ARM GAS  /tmp/ccTa7Z28.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ssd1306.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_f2d
  18              		.global	__aeabi_dmul
  19              		.global	__aeabi_ddiv
  20              		.global	__aeabi_d2f
  21              		.section	.text.ssd1306_DegToRad,"ax",%progbits
  22              		.align	1
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  26              		.fpu fpv4-sp-d16
  28              	ssd1306_DegToRad:
  29              	.LFB342:
  30              		.file 1 "Drivers/ssd1306/ssd1306.c"
   1:Drivers/ssd1306/ssd1306.c **** #include "ssd1306.h"
   2:Drivers/ssd1306/ssd1306.c **** #include <math.h>
   3:Drivers/ssd1306/ssd1306.c **** #include <stdlib.h>
   4:Drivers/ssd1306/ssd1306.c **** #include <string.h>  // For memcpy
   5:Drivers/ssd1306/ssd1306.c **** 
   6:Drivers/ssd1306/ssd1306.c **** #if defined(SSD1306_USE_I2C)
   7:Drivers/ssd1306/ssd1306.c **** 
   8:Drivers/ssd1306/ssd1306.c **** void ssd1306_Reset(void) {
   9:Drivers/ssd1306/ssd1306.c ****     /* for I2C - do nothing */
  10:Drivers/ssd1306/ssd1306.c **** }
  11:Drivers/ssd1306/ssd1306.c **** 
  12:Drivers/ssd1306/ssd1306.c **** // Send a byte to the command register
  13:Drivers/ssd1306/ssd1306.c **** void ssd1306_WriteCommand(uint8_t byte) {
  14:Drivers/ssd1306/ssd1306.c ****     HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x00, 1, &byte, 1, HAL_MAX_DELAY);
  15:Drivers/ssd1306/ssd1306.c **** }
  16:Drivers/ssd1306/ssd1306.c **** 
  17:Drivers/ssd1306/ssd1306.c **** // Send data
  18:Drivers/ssd1306/ssd1306.c **** void ssd1306_WriteData(uint8_t* buffer, size_t buff_size) {
  19:Drivers/ssd1306/ssd1306.c ****     HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x40, 1, buffer, buff_size, HAL_MAX_DELA
  20:Drivers/ssd1306/ssd1306.c **** }
  21:Drivers/ssd1306/ssd1306.c **** 
  22:Drivers/ssd1306/ssd1306.c **** #elif defined(SSD1306_USE_SPI)
  23:Drivers/ssd1306/ssd1306.c **** 
  24:Drivers/ssd1306/ssd1306.c **** void ssd1306_Reset(void) {
  25:Drivers/ssd1306/ssd1306.c ****     // CS = High (not selected)
  26:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET);
  27:Drivers/ssd1306/ssd1306.c **** 
  28:Drivers/ssd1306/ssd1306.c ****     // Reset the OLED
ARM GAS  /tmp/ccTa7Z28.s 			page 2


  29:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_Reset_Port, SSD1306_Reset_Pin, GPIO_PIN_RESET);
  30:Drivers/ssd1306/ssd1306.c ****     HAL_Delay(10);
  31:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_Reset_Port, SSD1306_Reset_Pin, GPIO_PIN_SET);
  32:Drivers/ssd1306/ssd1306.c ****     HAL_Delay(10);
  33:Drivers/ssd1306/ssd1306.c **** }
  34:Drivers/ssd1306/ssd1306.c **** 
  35:Drivers/ssd1306/ssd1306.c **** // Send a byte to the command register
  36:Drivers/ssd1306/ssd1306.c **** void ssd1306_WriteCommand(uint8_t byte) {
  37:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_RESET); // select OLED
  38:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_DC_Port, SSD1306_DC_Pin, GPIO_PIN_RESET); // command
  39:Drivers/ssd1306/ssd1306.c ****     HAL_SPI_Transmit(&SSD1306_SPI_PORT, (uint8_t *) &byte, 1, HAL_MAX_DELAY);
  40:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET); // un-select OLED
  41:Drivers/ssd1306/ssd1306.c **** }
  42:Drivers/ssd1306/ssd1306.c **** 
  43:Drivers/ssd1306/ssd1306.c **** // Send data
  44:Drivers/ssd1306/ssd1306.c **** void ssd1306_WriteData(uint8_t* buffer, size_t buff_size) {
  45:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_RESET); // select OLED
  46:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_DC_Port, SSD1306_DC_Pin, GPIO_PIN_SET); // data
  47:Drivers/ssd1306/ssd1306.c ****     HAL_SPI_Transmit(&SSD1306_SPI_PORT, buffer, buff_size, HAL_MAX_DELAY);
  48:Drivers/ssd1306/ssd1306.c ****     HAL_GPIO_WritePin(SSD1306_CS_Port, SSD1306_CS_Pin, GPIO_PIN_SET); // un-select OLED
  49:Drivers/ssd1306/ssd1306.c **** }
  50:Drivers/ssd1306/ssd1306.c **** 
  51:Drivers/ssd1306/ssd1306.c **** #else
  52:Drivers/ssd1306/ssd1306.c **** #error "You should define SSD1306_USE_SPI or SSD1306_USE_I2C macro"
  53:Drivers/ssd1306/ssd1306.c **** #endif
  54:Drivers/ssd1306/ssd1306.c **** 
  55:Drivers/ssd1306/ssd1306.c **** 
  56:Drivers/ssd1306/ssd1306.c **** // Screenbuffer
  57:Drivers/ssd1306/ssd1306.c **** static uint8_t SSD1306_Buffer[SSD1306_BUFFER_SIZE];
  58:Drivers/ssd1306/ssd1306.c **** 
  59:Drivers/ssd1306/ssd1306.c **** // Screen object
  60:Drivers/ssd1306/ssd1306.c **** static SSD1306_t SSD1306;
  61:Drivers/ssd1306/ssd1306.c **** 
  62:Drivers/ssd1306/ssd1306.c **** /* Fills the Screenbuffer with values from a given buffer of a fixed length */
  63:Drivers/ssd1306/ssd1306.c **** SSD1306_Error_t ssd1306_FillBuffer(uint8_t* buf, uint32_t len) {
  64:Drivers/ssd1306/ssd1306.c ****     SSD1306_Error_t ret = SSD1306_ERR;
  65:Drivers/ssd1306/ssd1306.c ****     if (len <= SSD1306_BUFFER_SIZE) {
  66:Drivers/ssd1306/ssd1306.c ****         memcpy(SSD1306_Buffer,buf,len);
  67:Drivers/ssd1306/ssd1306.c ****         ret = SSD1306_OK;
  68:Drivers/ssd1306/ssd1306.c ****     }
  69:Drivers/ssd1306/ssd1306.c ****     return ret;
  70:Drivers/ssd1306/ssd1306.c **** }
  71:Drivers/ssd1306/ssd1306.c **** 
  72:Drivers/ssd1306/ssd1306.c **** // Initialize the oled screen
  73:Drivers/ssd1306/ssd1306.c **** void ssd1306_Init(void) {
  74:Drivers/ssd1306/ssd1306.c ****     // Reset OLED
  75:Drivers/ssd1306/ssd1306.c ****     ssd1306_Reset();
  76:Drivers/ssd1306/ssd1306.c **** 
  77:Drivers/ssd1306/ssd1306.c ****     // Wait for the screen to boot
  78:Drivers/ssd1306/ssd1306.c ****     HAL_Delay(100);
  79:Drivers/ssd1306/ssd1306.c **** 
  80:Drivers/ssd1306/ssd1306.c ****     // Init OLED
  81:Drivers/ssd1306/ssd1306.c ****     ssd1306_SetDisplayOn(0); //display off
  82:Drivers/ssd1306/ssd1306.c **** 
  83:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x20); //Set Memory Addressing Mode
  84:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x00); // 00b,Horizontal Addressing Mode; 01b,Vertical Addressing Mode;
  85:Drivers/ssd1306/ssd1306.c ****                                 // 10b,Page Addressing Mode (RESET); 11b,Invalid
ARM GAS  /tmp/ccTa7Z28.s 			page 3


  86:Drivers/ssd1306/ssd1306.c **** 
  87:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xB0); //Set Page Start Address for Page Addressing Mode,0-7
  88:Drivers/ssd1306/ssd1306.c **** 
  89:Drivers/ssd1306/ssd1306.c **** #ifdef SSD1306_MIRROR_VERT
  90:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xC0); // Mirror vertically
  91:Drivers/ssd1306/ssd1306.c **** #else
  92:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xC8); //Set COM Output Scan Direction
  93:Drivers/ssd1306/ssd1306.c **** #endif
  94:Drivers/ssd1306/ssd1306.c **** 
  95:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x00); //---set low column address
  96:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x10); //---set high column address
  97:Drivers/ssd1306/ssd1306.c **** 
  98:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x40); //--set start line address - CHECK
  99:Drivers/ssd1306/ssd1306.c **** 
 100:Drivers/ssd1306/ssd1306.c ****     ssd1306_SetContrast(0xFF);
 101:Drivers/ssd1306/ssd1306.c **** 
 102:Drivers/ssd1306/ssd1306.c **** #ifdef SSD1306_MIRROR_HORIZ
 103:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA0); // Mirror horizontally
 104:Drivers/ssd1306/ssd1306.c **** #else
 105:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA1); //--set segment re-map 0 to 127 - CHECK
 106:Drivers/ssd1306/ssd1306.c **** #endif
 107:Drivers/ssd1306/ssd1306.c **** 
 108:Drivers/ssd1306/ssd1306.c **** #ifdef SSD1306_INVERSE_COLOR
 109:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA7); //--set inverse color
 110:Drivers/ssd1306/ssd1306.c **** #else
 111:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA6); //--set normal color
 112:Drivers/ssd1306/ssd1306.c **** #endif
 113:Drivers/ssd1306/ssd1306.c **** 
 114:Drivers/ssd1306/ssd1306.c **** // Set multiplex ratio.
 115:Drivers/ssd1306/ssd1306.c **** #if (SSD1306_HEIGHT == 128)
 116:Drivers/ssd1306/ssd1306.c ****     // Found in the Luma Python lib for SH1106.
 117:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xFF);
 118:Drivers/ssd1306/ssd1306.c **** #else
 119:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA8); //--set multiplex ratio(1 to 64) - CHECK
 120:Drivers/ssd1306/ssd1306.c **** #endif
 121:Drivers/ssd1306/ssd1306.c **** 
 122:Drivers/ssd1306/ssd1306.c **** #if (SSD1306_HEIGHT == 32)
 123:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x1F); //
 124:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 64)
 125:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x3F); //
 126:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 128)
 127:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x3F); // Seems to work for 128px high displays too.
 128:Drivers/ssd1306/ssd1306.c **** #else
 129:Drivers/ssd1306/ssd1306.c **** #error "Only 32, 64, or 128 lines of height are supported!"
 130:Drivers/ssd1306/ssd1306.c **** #endif
 131:Drivers/ssd1306/ssd1306.c **** 
 132:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xA4); //0xa4,Output follows RAM content;0xa5,Output ignores RAM content
 133:Drivers/ssd1306/ssd1306.c **** 
 134:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xD3); //-set display offset - CHECK
 135:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x00); //-not offset
 136:Drivers/ssd1306/ssd1306.c **** 
 137:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xD5); //--set display clock divide ratio/oscillator frequency
 138:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xF0); //--set divide ratio
 139:Drivers/ssd1306/ssd1306.c **** 
 140:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xD9); //--set pre-charge period
 141:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x22); //
 142:Drivers/ssd1306/ssd1306.c **** 
ARM GAS  /tmp/ccTa7Z28.s 			page 4


 143:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xDA); //--set com pins hardware configuration - CHECK
 144:Drivers/ssd1306/ssd1306.c **** #if (SSD1306_HEIGHT == 32)
 145:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x02);
 146:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 64)
 147:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x12);
 148:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 128)
 149:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x12);
 150:Drivers/ssd1306/ssd1306.c **** #else
 151:Drivers/ssd1306/ssd1306.c **** #error "Only 32, 64, or 128 lines of height are supported!"
 152:Drivers/ssd1306/ssd1306.c **** #endif
 153:Drivers/ssd1306/ssd1306.c **** 
 154:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xDB); //--set vcomh
 155:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x20); //0x20,0.77xVcc
 156:Drivers/ssd1306/ssd1306.c **** 
 157:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x8D); //--set DC-DC enable
 158:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x14); //
 159:Drivers/ssd1306/ssd1306.c ****     ssd1306_SetDisplayOn(1); //--turn on SSD1306 panel
 160:Drivers/ssd1306/ssd1306.c **** 
 161:Drivers/ssd1306/ssd1306.c ****     // Clear screen
 162:Drivers/ssd1306/ssd1306.c ****     ssd1306_Fill(Black);
 163:Drivers/ssd1306/ssd1306.c ****     
 164:Drivers/ssd1306/ssd1306.c ****     // Flush buffer to screen
 165:Drivers/ssd1306/ssd1306.c ****     ssd1306_UpdateScreen();
 166:Drivers/ssd1306/ssd1306.c ****     
 167:Drivers/ssd1306/ssd1306.c ****     // Set default values for screen object
 168:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentX = 0;
 169:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentY = 0;
 170:Drivers/ssd1306/ssd1306.c ****     
 171:Drivers/ssd1306/ssd1306.c ****     SSD1306.Initialized = 1;
 172:Drivers/ssd1306/ssd1306.c **** }
 173:Drivers/ssd1306/ssd1306.c **** 
 174:Drivers/ssd1306/ssd1306.c **** // Fill the whole screen with the given color
 175:Drivers/ssd1306/ssd1306.c **** void ssd1306_Fill(SSD1306_COLOR color) {
 176:Drivers/ssd1306/ssd1306.c ****     /* Set memory */
 177:Drivers/ssd1306/ssd1306.c ****     uint32_t i;
 178:Drivers/ssd1306/ssd1306.c **** 
 179:Drivers/ssd1306/ssd1306.c ****     for(i = 0; i < sizeof(SSD1306_Buffer); i++) {
 180:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 181:Drivers/ssd1306/ssd1306.c ****     }
 182:Drivers/ssd1306/ssd1306.c **** }
 183:Drivers/ssd1306/ssd1306.c **** 
 184:Drivers/ssd1306/ssd1306.c **** // Write the screenbuffer with changed to the screen
 185:Drivers/ssd1306/ssd1306.c **** void ssd1306_UpdateScreen(void) {
 186:Drivers/ssd1306/ssd1306.c ****     // Write data to each page of RAM. Number of pages
 187:Drivers/ssd1306/ssd1306.c ****     // depends on the screen height:
 188:Drivers/ssd1306/ssd1306.c ****     //
 189:Drivers/ssd1306/ssd1306.c ****     //  * 32px   ==  4 pages
 190:Drivers/ssd1306/ssd1306.c ****     //  * 64px   ==  8 pages
 191:Drivers/ssd1306/ssd1306.c ****     //  * 128px  ==  16 pages
 192:Drivers/ssd1306/ssd1306.c ****     for(uint8_t i = 0; i < SSD1306_HEIGHT/8; i++) {
 193:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0xB0 + i); // Set the current RAM page address.
 194:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0x00);
 195:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0x10);
 196:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteData(&SSD1306_Buffer[SSD1306_WIDTH*i],SSD1306_WIDTH);
 197:Drivers/ssd1306/ssd1306.c ****     }
 198:Drivers/ssd1306/ssd1306.c **** }
 199:Drivers/ssd1306/ssd1306.c **** 
ARM GAS  /tmp/ccTa7Z28.s 			page 5


 200:Drivers/ssd1306/ssd1306.c **** //    Draw one pixel in the screenbuffer
 201:Drivers/ssd1306/ssd1306.c **** //    X => X Coordinate
 202:Drivers/ssd1306/ssd1306.c **** //    Y => Y Coordinate
 203:Drivers/ssd1306/ssd1306.c **** //    color => Pixel color
 204:Drivers/ssd1306/ssd1306.c **** void ssd1306_DrawPixel(uint8_t x, uint8_t y, SSD1306_COLOR color) {
 205:Drivers/ssd1306/ssd1306.c ****     if(x >= SSD1306_WIDTH || y >= SSD1306_HEIGHT) {
 206:Drivers/ssd1306/ssd1306.c ****         // Don't write outside the buffer
 207:Drivers/ssd1306/ssd1306.c ****         return;
 208:Drivers/ssd1306/ssd1306.c ****     }
 209:Drivers/ssd1306/ssd1306.c ****     
 210:Drivers/ssd1306/ssd1306.c ****     // Check if pixel should be inverted
 211:Drivers/ssd1306/ssd1306.c ****     if(SSD1306.Inverted) {
 212:Drivers/ssd1306/ssd1306.c ****         color = (SSD1306_COLOR)!color;
 213:Drivers/ssd1306/ssd1306.c ****     }
 214:Drivers/ssd1306/ssd1306.c ****     
 215:Drivers/ssd1306/ssd1306.c ****     // Draw in the right color
 216:Drivers/ssd1306/ssd1306.c ****     if(color == White) {
 217:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 218:Drivers/ssd1306/ssd1306.c ****     } else { 
 219:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] &= ~(1 << (y % 8));
 220:Drivers/ssd1306/ssd1306.c ****     }
 221:Drivers/ssd1306/ssd1306.c **** }
 222:Drivers/ssd1306/ssd1306.c **** 
 223:Drivers/ssd1306/ssd1306.c **** // Draw 1 char to the screen buffer
 224:Drivers/ssd1306/ssd1306.c **** // ch       => char om weg te schrijven
 225:Drivers/ssd1306/ssd1306.c **** // Font     => Font waarmee we gaan schrijven
 226:Drivers/ssd1306/ssd1306.c **** // color    => Black or White
 227:Drivers/ssd1306/ssd1306.c **** char ssd1306_WriteChar(char ch, FontDef Font, SSD1306_COLOR color) {
 228:Drivers/ssd1306/ssd1306.c ****     uint32_t i, b, j;
 229:Drivers/ssd1306/ssd1306.c ****     
 230:Drivers/ssd1306/ssd1306.c ****     // Check if character is valid
 231:Drivers/ssd1306/ssd1306.c ****     if (ch < 32 || ch > 126)
 232:Drivers/ssd1306/ssd1306.c ****         return 0;
 233:Drivers/ssd1306/ssd1306.c ****     
 234:Drivers/ssd1306/ssd1306.c ****     // Check remaining space on current line
 235:Drivers/ssd1306/ssd1306.c ****     if (SSD1306_WIDTH < (SSD1306.CurrentX + Font.FontWidth) ||
 236:Drivers/ssd1306/ssd1306.c ****         SSD1306_HEIGHT < (SSD1306.CurrentY + Font.FontHeight))
 237:Drivers/ssd1306/ssd1306.c ****     {
 238:Drivers/ssd1306/ssd1306.c ****         // Not enough space on current line
 239:Drivers/ssd1306/ssd1306.c ****         return 0;
 240:Drivers/ssd1306/ssd1306.c ****     }
 241:Drivers/ssd1306/ssd1306.c ****     
 242:Drivers/ssd1306/ssd1306.c ****     // Use the font to write
 243:Drivers/ssd1306/ssd1306.c ****     for(i = 0; i < Font.FontHeight; i++) {
 244:Drivers/ssd1306/ssd1306.c ****         b = Font.data[(ch - 32) * Font.FontHeight + i];
 245:Drivers/ssd1306/ssd1306.c ****         for(j = 0; j < Font.FontWidth; j++) {
 246:Drivers/ssd1306/ssd1306.c ****             if((b << j) & 0x8000)  {
 247:Drivers/ssd1306/ssd1306.c ****                 ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR) col
 248:Drivers/ssd1306/ssd1306.c ****             } else {
 249:Drivers/ssd1306/ssd1306.c ****                 ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR)!col
 250:Drivers/ssd1306/ssd1306.c ****             }
 251:Drivers/ssd1306/ssd1306.c ****         }
 252:Drivers/ssd1306/ssd1306.c ****     }
 253:Drivers/ssd1306/ssd1306.c ****     
 254:Drivers/ssd1306/ssd1306.c ****     // The current space is now taken
 255:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentX += Font.FontWidth;
 256:Drivers/ssd1306/ssd1306.c ****     
ARM GAS  /tmp/ccTa7Z28.s 			page 6


 257:Drivers/ssd1306/ssd1306.c ****     // Return written char for validation
 258:Drivers/ssd1306/ssd1306.c ****     return ch;
 259:Drivers/ssd1306/ssd1306.c **** }
 260:Drivers/ssd1306/ssd1306.c **** 
 261:Drivers/ssd1306/ssd1306.c **** // Write full string to screenbuffer
 262:Drivers/ssd1306/ssd1306.c **** char ssd1306_WriteString(char* str, FontDef Font, SSD1306_COLOR color) {
 263:Drivers/ssd1306/ssd1306.c ****     // Write until null-byte
 264:Drivers/ssd1306/ssd1306.c ****     while (*str) {
 265:Drivers/ssd1306/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 266:Drivers/ssd1306/ssd1306.c ****             // Char could not be written
 267:Drivers/ssd1306/ssd1306.c ****             return *str;
 268:Drivers/ssd1306/ssd1306.c ****         }
 269:Drivers/ssd1306/ssd1306.c ****         
 270:Drivers/ssd1306/ssd1306.c ****         // Next char
 271:Drivers/ssd1306/ssd1306.c ****         str++;
 272:Drivers/ssd1306/ssd1306.c ****     }
 273:Drivers/ssd1306/ssd1306.c ****     
 274:Drivers/ssd1306/ssd1306.c ****     // Everything ok
 275:Drivers/ssd1306/ssd1306.c ****     return *str;
 276:Drivers/ssd1306/ssd1306.c **** }
 277:Drivers/ssd1306/ssd1306.c **** 
 278:Drivers/ssd1306/ssd1306.c **** // Position the cursor
 279:Drivers/ssd1306/ssd1306.c **** void ssd1306_SetCursor(uint8_t x, uint8_t y) {
 280:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentX = x;
 281:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentY = y;
 282:Drivers/ssd1306/ssd1306.c **** }
 283:Drivers/ssd1306/ssd1306.c **** 
 284:Drivers/ssd1306/ssd1306.c **** // Draw line by Bresenhem's algorithm
 285:Drivers/ssd1306/ssd1306.c **** void ssd1306_Line(uint8_t x1, uint8_t y1, uint8_t x2, uint8_t y2, SSD1306_COLOR color) {
 286:Drivers/ssd1306/ssd1306.c ****   int32_t deltaX = abs(x2 - x1);
 287:Drivers/ssd1306/ssd1306.c ****   int32_t deltaY = abs(y2 - y1);
 288:Drivers/ssd1306/ssd1306.c ****   int32_t signX = ((x1 < x2) ? 1 : -1);
 289:Drivers/ssd1306/ssd1306.c ****   int32_t signY = ((y1 < y2) ? 1 : -1);
 290:Drivers/ssd1306/ssd1306.c ****   int32_t error = deltaX - deltaY;
 291:Drivers/ssd1306/ssd1306.c ****   int32_t error2;
 292:Drivers/ssd1306/ssd1306.c ****     
 293:Drivers/ssd1306/ssd1306.c ****   ssd1306_DrawPixel(x2, y2, color);
 294:Drivers/ssd1306/ssd1306.c ****     while((x1 != x2) || (y1 != y2))
 295:Drivers/ssd1306/ssd1306.c ****     {
 296:Drivers/ssd1306/ssd1306.c ****     ssd1306_DrawPixel(x1, y1, color);
 297:Drivers/ssd1306/ssd1306.c ****     error2 = error * 2;
 298:Drivers/ssd1306/ssd1306.c ****     if(error2 > -deltaY)
 299:Drivers/ssd1306/ssd1306.c ****     {
 300:Drivers/ssd1306/ssd1306.c ****       error -= deltaY;
 301:Drivers/ssd1306/ssd1306.c ****       x1 += signX;
 302:Drivers/ssd1306/ssd1306.c ****     }
 303:Drivers/ssd1306/ssd1306.c ****     else
 304:Drivers/ssd1306/ssd1306.c ****     {
 305:Drivers/ssd1306/ssd1306.c ****     /*nothing to do*/
 306:Drivers/ssd1306/ssd1306.c ****     }
 307:Drivers/ssd1306/ssd1306.c ****         
 308:Drivers/ssd1306/ssd1306.c ****     if(error2 < deltaX)
 309:Drivers/ssd1306/ssd1306.c ****     {
 310:Drivers/ssd1306/ssd1306.c ****       error += deltaX;
 311:Drivers/ssd1306/ssd1306.c ****       y1 += signY;
 312:Drivers/ssd1306/ssd1306.c ****     }
 313:Drivers/ssd1306/ssd1306.c ****     else
ARM GAS  /tmp/ccTa7Z28.s 			page 7


 314:Drivers/ssd1306/ssd1306.c ****     {
 315:Drivers/ssd1306/ssd1306.c ****     /*nothing to do*/
 316:Drivers/ssd1306/ssd1306.c ****     }
 317:Drivers/ssd1306/ssd1306.c ****   }
 318:Drivers/ssd1306/ssd1306.c ****   return;
 319:Drivers/ssd1306/ssd1306.c **** }
 320:Drivers/ssd1306/ssd1306.c **** //Draw polyline
 321:Drivers/ssd1306/ssd1306.c **** void ssd1306_Polyline(const SSD1306_VERTEX *par_vertex, uint16_t par_size, SSD1306_COLOR color) {
 322:Drivers/ssd1306/ssd1306.c ****   uint16_t i;
 323:Drivers/ssd1306/ssd1306.c ****   if(par_vertex != 0){
 324:Drivers/ssd1306/ssd1306.c ****     for(i = 1; i < par_size; i++){
 325:Drivers/ssd1306/ssd1306.c ****       ssd1306_Line(par_vertex[i - 1].x, par_vertex[i - 1].y, par_vertex[i].x, par_vertex[i].y, colo
 326:Drivers/ssd1306/ssd1306.c ****     }
 327:Drivers/ssd1306/ssd1306.c ****   }
 328:Drivers/ssd1306/ssd1306.c ****   else
 329:Drivers/ssd1306/ssd1306.c ****   {
 330:Drivers/ssd1306/ssd1306.c ****     /*nothing to do*/
 331:Drivers/ssd1306/ssd1306.c ****   }
 332:Drivers/ssd1306/ssd1306.c ****   return;
 333:Drivers/ssd1306/ssd1306.c **** }
 334:Drivers/ssd1306/ssd1306.c **** /*Convert Degrees to Radians*/
 335:Drivers/ssd1306/ssd1306.c **** static float ssd1306_DegToRad(float par_deg) {
  31              		.loc 1 335 0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              	.LVL0:
  36 0000 08B5     		push	{r3, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 3, -8
  40              		.cfi_offset 14, -4
 336:Drivers/ssd1306/ssd1306.c ****     return par_deg * 3.14 / 180.0;
  41              		.loc 1 336 0
  42 0002 10EE100A 		vmov	r0, s0
  43 0006 FFF7FEFF 		bl	__aeabi_f2d
  44              	.LVL1:
  45 000a 08A3     		adr	r3, .L3+4
  46 000c D3E90023 		ldrd	r2, [r3]
  47 0010 FFF7FEFF 		bl	__aeabi_dmul
  48              	.LVL2:
  49 0014 0022     		movs	r2, #0
  50 0016 044B     		ldr	r3, .L3
  51 0018 FFF7FEFF 		bl	__aeabi_ddiv
  52              	.LVL3:
  53 001c FFF7FEFF 		bl	__aeabi_d2f
  54              	.LVL4:
 337:Drivers/ssd1306/ssd1306.c **** }
  55              		.loc 1 337 0
  56 0020 00EE100A 		vmov	s0, r0
  57 0024 08BD     		pop	{r3, pc}
  58              	.L4:
  59 0026 00BF     		.align	3
  60              	.L3:
  61 0028 00806640 		.word	1080459264
  62 002c 1F85EB51 		.word	1374389535
  63 0030 B81E0940 		.word	1074339512
ARM GAS  /tmp/ccTa7Z28.s 			page 8


  64              		.cfi_endproc
  65              	.LFE342:
  67              		.section	.text.ssd1306_NormalizeTo0_360,"ax",%progbits
  68              		.align	1
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  72              		.fpu fpv4-sp-d16
  74              	ssd1306_NormalizeTo0_360:
  75              	.LFB343:
 338:Drivers/ssd1306/ssd1306.c **** /*Normalize degree to [0;360]*/
 339:Drivers/ssd1306/ssd1306.c **** static uint16_t ssd1306_NormalizeTo0_360(uint16_t par_deg) {
  76              		.loc 1 339 0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80              		@ link register save eliminated.
  81              	.LVL5:
 340:Drivers/ssd1306/ssd1306.c ****   uint16_t loc_angle;
 341:Drivers/ssd1306/ssd1306.c ****   if(par_deg <= 360)
  82              		.loc 1 341 0
  83 0000 B0F5B47F 		cmp	r0, #360
  84 0004 00D9     		bls	.L6
  85              	.LVL6:
 342:Drivers/ssd1306/ssd1306.c ****   {
 343:Drivers/ssd1306/ssd1306.c ****     loc_angle = par_deg;
 344:Drivers/ssd1306/ssd1306.c ****   }
 345:Drivers/ssd1306/ssd1306.c ****   else
 346:Drivers/ssd1306/ssd1306.c ****   {
 347:Drivers/ssd1306/ssd1306.c ****     loc_angle = par_deg % 360;
 348:Drivers/ssd1306/ssd1306.c ****     loc_angle = ((par_deg != 0)?par_deg:360);
  86              		.loc 1 348 0
  87 0006 00B1     		cbz	r0, .L8
  88              	.LVL7:
  89              	.L6:
 349:Drivers/ssd1306/ssd1306.c ****   }
 350:Drivers/ssd1306/ssd1306.c ****   return loc_angle;
 351:Drivers/ssd1306/ssd1306.c **** }
  90              		.loc 1 351 0
  91 0008 7047     		bx	lr
  92              	.LVL8:
  93              	.L8:
 348:Drivers/ssd1306/ssd1306.c ****   }
  94              		.loc 1 348 0
  95 000a 4FF4B470 		mov	r0, #360
  96              	.LVL9:
  97 000e FBE7     		b	.L6
  98              		.cfi_endproc
  99              	.LFE343:
 101              		.section	.text.ssd1306_Reset,"ax",%progbits
 102              		.align	1
 103              		.global	ssd1306_Reset
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 107              		.fpu fpv4-sp-d16
 109              	ssd1306_Reset:
ARM GAS  /tmp/ccTa7Z28.s 			page 9


 110              	.LFB329:
   8:Drivers/ssd1306/ssd1306.c ****     /* for I2C - do nothing */
 111              		.loc 1 8 0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		@ link register save eliminated.
  10:Drivers/ssd1306/ssd1306.c **** 
 116              		.loc 1 10 0
 117 0000 7047     		bx	lr
 118              		.cfi_endproc
 119              	.LFE329:
 121              		.section	.text.ssd1306_WriteCommand,"ax",%progbits
 122              		.align	1
 123              		.global	ssd1306_WriteCommand
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 127              		.fpu fpv4-sp-d16
 129              	ssd1306_WriteCommand:
 130              	.LFB330:
  13:Drivers/ssd1306/ssd1306.c ****     HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x00, 1, &byte, 1, HAL_MAX_DELAY);
 131              		.loc 1 13 0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 8
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              	.LVL10:
 136 0000 00B5     		push	{lr}
 137              	.LCFI1:
 138              		.cfi_def_cfa_offset 4
 139              		.cfi_offset 14, -4
 140 0002 87B0     		sub	sp, sp, #28
 141              	.LCFI2:
 142              		.cfi_def_cfa_offset 32
 143 0004 06AA     		add	r2, sp, #24
 144 0006 02F8010D 		strb	r0, [r2, #-1]!
  14:Drivers/ssd1306/ssd1306.c **** }
 145              		.loc 1 14 0
 146 000a 4FF0FF33 		mov	r3, #-1
 147 000e 0293     		str	r3, [sp, #8]
 148 0010 0123     		movs	r3, #1
 149 0012 0193     		str	r3, [sp, #4]
 150 0014 0092     		str	r2, [sp]
 151 0016 0022     		movs	r2, #0
 152 0018 7821     		movs	r1, #120
 153 001a 0348     		ldr	r0, .L12
 154              	.LVL11:
 155 001c FFF7FEFF 		bl	HAL_I2C_Mem_Write
 156              	.LVL12:
  15:Drivers/ssd1306/ssd1306.c **** 
 157              		.loc 1 15 0
 158 0020 07B0     		add	sp, sp, #28
 159              	.LCFI3:
 160              		.cfi_def_cfa_offset 4
 161              		@ sp needed
 162 0022 5DF804FB 		ldr	pc, [sp], #4
 163              	.L13:
ARM GAS  /tmp/ccTa7Z28.s 			page 10


 164 0026 00BF     		.align	2
 165              	.L12:
 166 0028 00000000 		.word	hi2c2
 167              		.cfi_endproc
 168              	.LFE330:
 170              		.section	.text.ssd1306_WriteData,"ax",%progbits
 171              		.align	1
 172              		.global	ssd1306_WriteData
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 176              		.fpu fpv4-sp-d16
 178              	ssd1306_WriteData:
 179              	.LFB331:
  18:Drivers/ssd1306/ssd1306.c ****     HAL_I2C_Mem_Write(&SSD1306_I2C_PORT, SSD1306_I2C_ADDR, 0x40, 1, buffer, buff_size, HAL_MAX_DELA
 180              		.loc 1 18 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              	.LVL13:
 185 0000 00B5     		push	{lr}
 186              	.LCFI4:
 187              		.cfi_def_cfa_offset 4
 188              		.cfi_offset 14, -4
 189 0002 85B0     		sub	sp, sp, #20
 190              	.LCFI5:
 191              		.cfi_def_cfa_offset 24
  19:Drivers/ssd1306/ssd1306.c **** }
 192              		.loc 1 19 0
 193 0004 4FF0FF33 		mov	r3, #-1
 194 0008 0293     		str	r3, [sp, #8]
 195 000a 89B2     		uxth	r1, r1
 196              	.LVL14:
 197 000c 0191     		str	r1, [sp, #4]
 198 000e 0090     		str	r0, [sp]
 199 0010 0123     		movs	r3, #1
 200 0012 4022     		movs	r2, #64
 201 0014 7821     		movs	r1, #120
 202 0016 0348     		ldr	r0, .L16
 203              	.LVL15:
 204 0018 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 205              	.LVL16:
  20:Drivers/ssd1306/ssd1306.c **** 
 206              		.loc 1 20 0
 207 001c 05B0     		add	sp, sp, #20
 208              	.LCFI6:
 209              		.cfi_def_cfa_offset 4
 210              		@ sp needed
 211 001e 5DF804FB 		ldr	pc, [sp], #4
 212              	.L17:
 213 0022 00BF     		.align	2
 214              	.L16:
 215 0024 00000000 		.word	hi2c2
 216              		.cfi_endproc
 217              	.LFE331:
 219              		.section	.text.ssd1306_FillBuffer,"ax",%progbits
 220              		.align	1
ARM GAS  /tmp/ccTa7Z28.s 			page 11


 221              		.global	ssd1306_FillBuffer
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 225              		.fpu fpv4-sp-d16
 227              	ssd1306_FillBuffer:
 228              	.LFB332:
  63:Drivers/ssd1306/ssd1306.c ****     SSD1306_Error_t ret = SSD1306_ERR;
 229              		.loc 1 63 0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              	.LVL17:
  65:Drivers/ssd1306/ssd1306.c ****         memcpy(SSD1306_Buffer,buf,len);
 234              		.loc 1 65 0
 235 0000 B1F5007F 		cmp	r1, #512
 236 0004 01D9     		bls	.L25
  64:Drivers/ssd1306/ssd1306.c ****     if (len <= SSD1306_BUFFER_SIZE) {
 237              		.loc 1 64 0
 238 0006 0120     		movs	r0, #1
 239              	.LVL18:
  70:Drivers/ssd1306/ssd1306.c **** 
 240              		.loc 1 70 0
 241 0008 7047     		bx	lr
 242              	.LVL19:
 243              	.L25:
  63:Drivers/ssd1306/ssd1306.c ****     SSD1306_Error_t ret = SSD1306_ERR;
 244              		.loc 1 63 0
 245 000a 08B5     		push	{r3, lr}
 246              	.LCFI7:
 247              		.cfi_def_cfa_offset 8
 248              		.cfi_offset 3, -8
 249              		.cfi_offset 14, -4
 250 000c 0A46     		mov	r2, r1
 251 000e 0146     		mov	r1, r0
 252              	.LVL20:
  66:Drivers/ssd1306/ssd1306.c ****         ret = SSD1306_OK;
 253              		.loc 1 66 0
 254 0010 0248     		ldr	r0, .L26
 255              	.LVL21:
 256 0012 FFF7FEFF 		bl	memcpy
 257              	.LVL22:
  67:Drivers/ssd1306/ssd1306.c ****     }
 258              		.loc 1 67 0
 259 0016 0020     		movs	r0, #0
 260              	.LVL23:
  70:Drivers/ssd1306/ssd1306.c **** 
 261              		.loc 1 70 0
 262 0018 08BD     		pop	{r3, pc}
 263              	.L27:
 264 001a 00BF     		.align	2
 265              	.L26:
 266 001c 00000000 		.word	.LANCHOR0
 267              		.cfi_endproc
 268              	.LFE332:
 270              		.section	.text.ssd1306_Fill,"ax",%progbits
 271              		.align	1
ARM GAS  /tmp/ccTa7Z28.s 			page 12


 272              		.global	ssd1306_Fill
 273              		.syntax unified
 274              		.thumb
 275              		.thumb_func
 276              		.fpu fpv4-sp-d16
 278              	ssd1306_Fill:
 279              	.LFB334:
 175:Drivers/ssd1306/ssd1306.c ****     /* Set memory */
 280              		.loc 1 175 0
 281              		.cfi_startproc
 282              		@ args = 0, pretend = 0, frame = 0
 283              		@ frame_needed = 0, uses_anonymous_args = 0
 284              		@ link register save eliminated.
 285              	.LVL24:
 179:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 286              		.loc 1 179 0
 287 0000 0023     		movs	r3, #0
 288 0002 03E0     		b	.L29
 289              	.LVL25:
 290              	.L32:
 180:Drivers/ssd1306/ssd1306.c ****     }
 291              		.loc 1 180 0
 292 0004 FF21     		movs	r1, #255
 293              	.L30:
 180:Drivers/ssd1306/ssd1306.c ****     }
 294              		.loc 1 180 0 is_stmt 0 discriminator 4
 295 0006 054A     		ldr	r2, .L34
 296 0008 D154     		strb	r1, [r2, r3]
 179:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 297              		.loc 1 179 0 is_stmt 1 discriminator 4
 298 000a 0133     		adds	r3, r3, #1
 299              	.LVL26:
 300              	.L29:
 179:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[i] = (color == Black) ? 0x00 : 0xFF;
 301              		.loc 1 179 0 is_stmt 0 discriminator 2
 302 000c B3F5007F 		cmp	r3, #512
 303 0010 03D2     		bcs	.L33
 180:Drivers/ssd1306/ssd1306.c ****     }
 304              		.loc 1 180 0 is_stmt 1
 305 0012 0028     		cmp	r0, #0
 306 0014 F6D1     		bne	.L32
 307 0016 0021     		movs	r1, #0
 308 0018 F5E7     		b	.L30
 309              	.L33:
 182:Drivers/ssd1306/ssd1306.c **** 
 310              		.loc 1 182 0
 311 001a 7047     		bx	lr
 312              	.L35:
 313              		.align	2
 314              	.L34:
 315 001c 00000000 		.word	.LANCHOR0
 316              		.cfi_endproc
 317              	.LFE334:
 319              		.section	.text.ssd1306_UpdateScreen,"ax",%progbits
 320              		.align	1
 321              		.global	ssd1306_UpdateScreen
 322              		.syntax unified
ARM GAS  /tmp/ccTa7Z28.s 			page 13


 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	ssd1306_UpdateScreen:
 328              	.LFB335:
 185:Drivers/ssd1306/ssd1306.c ****     // Write data to each page of RAM. Number of pages
 329              		.loc 1 185 0
 330              		.cfi_startproc
 331              		@ args = 0, pretend = 0, frame = 0
 332              		@ frame_needed = 0, uses_anonymous_args = 0
 333 0000 10B5     		push	{r4, lr}
 334              	.LCFI8:
 335              		.cfi_def_cfa_offset 8
 336              		.cfi_offset 4, -8
 337              		.cfi_offset 14, -4
 338              	.LVL27:
 339              	.LBB2:
 192:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0xB0 + i); // Set the current RAM page address.
 340              		.loc 1 192 0
 341 0002 0024     		movs	r4, #0
 342 0004 12E0     		b	.L37
 343              	.LVL28:
 344              	.L38:
 193:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0x00);
 345              		.loc 1 193 0 discriminator 3
 346 0006 A4F15000 		sub	r0, r4, #80
 347 000a C0B2     		uxtb	r0, r0
 348 000c FFF7FEFF 		bl	ssd1306_WriteCommand
 349              	.LVL29:
 194:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0x10);
 350              		.loc 1 194 0 discriminator 3
 351 0010 0020     		movs	r0, #0
 352 0012 FFF7FEFF 		bl	ssd1306_WriteCommand
 353              	.LVL30:
 195:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteData(&SSD1306_Buffer[SSD1306_WIDTH*i],SSD1306_WIDTH);
 354              		.loc 1 195 0 discriminator 3
 355 0016 1020     		movs	r0, #16
 356 0018 FFF7FEFF 		bl	ssd1306_WriteCommand
 357              	.LVL31:
 196:Drivers/ssd1306/ssd1306.c ****     }
 358              		.loc 1 196 0 discriminator 3
 359 001c 8021     		movs	r1, #128
 360 001e 0548     		ldr	r0, .L40
 361 0020 00EBC410 		add	r0, r0, r4, lsl #7
 362 0024 FFF7FEFF 		bl	ssd1306_WriteData
 363              	.LVL32:
 192:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0xB0 + i); // Set the current RAM page address.
 364              		.loc 1 192 0 discriminator 3
 365 0028 0134     		adds	r4, r4, #1
 366              	.LVL33:
 367 002a E4B2     		uxtb	r4, r4
 368              	.LVL34:
 369              	.L37:
 192:Drivers/ssd1306/ssd1306.c ****         ssd1306_WriteCommand(0xB0 + i); // Set the current RAM page address.
 370              		.loc 1 192 0 is_stmt 0 discriminator 1
 371 002c 032C     		cmp	r4, #3
 372 002e EAD9     		bls	.L38
ARM GAS  /tmp/ccTa7Z28.s 			page 14


 373              	.LBE2:
 198:Drivers/ssd1306/ssd1306.c **** 
 374              		.loc 1 198 0 is_stmt 1
 375 0030 10BD     		pop	{r4, pc}
 376              	.LVL35:
 377              	.L41:
 378 0032 00BF     		.align	2
 379              	.L40:
 380 0034 00000000 		.word	.LANCHOR0
 381              		.cfi_endproc
 382              	.LFE335:
 384              		.section	.text.ssd1306_DrawPixel,"ax",%progbits
 385              		.align	1
 386              		.global	ssd1306_DrawPixel
 387              		.syntax unified
 388              		.thumb
 389              		.thumb_func
 390              		.fpu fpv4-sp-d16
 392              	ssd1306_DrawPixel:
 393              	.LFB336:
 204:Drivers/ssd1306/ssd1306.c ****     if(x >= SSD1306_WIDTH || y >= SSD1306_HEIGHT) {
 394              		.loc 1 204 0
 395              		.cfi_startproc
 396              		@ args = 0, pretend = 0, frame = 0
 397              		@ frame_needed = 0, uses_anonymous_args = 0
 398              		@ link register save eliminated.
 399              	.LVL36:
 205:Drivers/ssd1306/ssd1306.c ****         // Don't write outside the buffer
 400              		.loc 1 205 0
 401 0000 10F0800F 		tst	r0, #128
 402 0004 15D1     		bne	.L42
 205:Drivers/ssd1306/ssd1306.c ****         // Don't write outside the buffer
 403              		.loc 1 205 0 is_stmt 0 discriminator 1
 404 0006 1F29     		cmp	r1, #31
 405 0008 13D8     		bhi	.L42
 211:Drivers/ssd1306/ssd1306.c ****         color = (SSD1306_COLOR)!color;
 406              		.loc 1 211 0 is_stmt 1
 407 000a 104B     		ldr	r3, .L47
 408 000c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 409 000e 13B1     		cbz	r3, .L44
 212:Drivers/ssd1306/ssd1306.c ****     }
 410              		.loc 1 212 0
 411 0010 B2FA82F2 		clz	r2, r2
 412              	.LVL37:
 413 0014 5209     		lsrs	r2, r2, #5
 414              	.LVL38:
 415              	.L44:
 216:Drivers/ssd1306/ssd1306.c ****         SSD1306_Buffer[x + (y / 8) * SSD1306_WIDTH] |= 1 << (y % 8);
 416              		.loc 1 216 0
 417 0016 012A     		cmp	r2, #1
 418 0018 0CD0     		beq	.L46
 219:Drivers/ssd1306/ssd1306.c ****     }
 419              		.loc 1 219 0
 420 001a CB08     		lsrs	r3, r1, #3
 421 001c 00EBC310 		add	r0, r0, r3, lsl #7
 422              	.LVL39:
 423 0020 01F00701 		and	r1, r1, #7
ARM GAS  /tmp/ccTa7Z28.s 			page 15


 424              	.LVL40:
 425 0024 0123     		movs	r3, #1
 426 0026 8B40     		lsls	r3, r3, r1
 427 0028 094A     		ldr	r2, .L47+4
 428              	.LVL41:
 429 002a 115C     		ldrb	r1, [r2, r0]	@ zero_extendqisi2
 430 002c 21EA0301 		bic	r1, r1, r3
 431 0030 1154     		strb	r1, [r2, r0]
 432              	.L42:
 221:Drivers/ssd1306/ssd1306.c **** 
 433              		.loc 1 221 0
 434 0032 7047     		bx	lr
 435              	.LVL42:
 436              	.L46:
 217:Drivers/ssd1306/ssd1306.c ****     } else { 
 437              		.loc 1 217 0
 438 0034 CB08     		lsrs	r3, r1, #3
 439 0036 00EBC310 		add	r0, r0, r3, lsl #7
 440              	.LVL43:
 441 003a 01F00701 		and	r1, r1, #7
 442              	.LVL44:
 443 003e 0123     		movs	r3, #1
 444 0040 8B40     		lsls	r3, r3, r1
 445 0042 034A     		ldr	r2, .L47+4
 446              	.LVL45:
 447 0044 115C     		ldrb	r1, [r2, r0]	@ zero_extendqisi2
 448 0046 1943     		orrs	r1, r1, r3
 449 0048 1154     		strb	r1, [r2, r0]
 450 004a 7047     		bx	lr
 451              	.L48:
 452              		.align	2
 453              	.L47:
 454 004c 00000000 		.word	.LANCHOR1
 455 0050 00000000 		.word	.LANCHOR0
 456              		.cfi_endproc
 457              	.LFE336:
 459              		.section	.text.ssd1306_WriteChar,"ax",%progbits
 460              		.align	1
 461              		.global	ssd1306_WriteChar
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 465              		.fpu fpv4-sp-d16
 467              	ssd1306_WriteChar:
 468              	.LFB337:
 227:Drivers/ssd1306/ssd1306.c ****     uint32_t i, b, j;
 469              		.loc 1 227 0
 470              		.cfi_startproc
 471              		@ args = 0, pretend = 0, frame = 8
 472              		@ frame_needed = 0, uses_anonymous_args = 0
 473              	.LVL46:
 474 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 475              	.LCFI9:
 476              		.cfi_def_cfa_offset 36
 477              		.cfi_offset 4, -36
 478              		.cfi_offset 5, -32
 479              		.cfi_offset 6, -28
ARM GAS  /tmp/ccTa7Z28.s 			page 16


 480              		.cfi_offset 7, -24
 481              		.cfi_offset 8, -20
 482              		.cfi_offset 9, -16
 483              		.cfi_offset 10, -12
 484              		.cfi_offset 11, -8
 485              		.cfi_offset 14, -4
 486 0004 83B0     		sub	sp, sp, #12
 487              	.LCFI10:
 488              		.cfi_def_cfa_offset 48
 489 0006 02AC     		add	r4, sp, #8
 490 0008 04E90600 		stmdb	r4, {r1, r2}
 231:Drivers/ssd1306/ssd1306.c ****         return 0;
 491              		.loc 1 231 0
 492 000c A0F12002 		sub	r2, r0, #32
 493 0010 D2B2     		uxtb	r2, r2
 494 0012 5E2A     		cmp	r2, #94
 495 0014 43D8     		bhi	.L57
 235:Drivers/ssd1306/ssd1306.c ****         SSD1306_HEIGHT < (SSD1306.CurrentY + Font.FontHeight))
 496              		.loc 1 235 0
 497 0016 264A     		ldr	r2, .L63
 498 0018 1288     		ldrh	r2, [r2]
 499 001a 9DF80060 		ldrb	r6, [sp]	@ zero_extendqisi2
 500 001e 3244     		add	r2, r2, r6
 501 0020 802A     		cmp	r2, #128
 502 0022 40DC     		bgt	.L58
 236:Drivers/ssd1306/ssd1306.c ****     {
 503              		.loc 1 236 0 discriminator 1
 504 0024 224A     		ldr	r2, .L63
 505 0026 5288     		ldrh	r2, [r2, #2]
 506 0028 9DF801A0 		ldrb	r10, [sp, #1]	@ zero_extendqisi2
 507 002c D346     		mov	fp, r10
 508 002e 5244     		add	r2, r2, r10
 235:Drivers/ssd1306/ssd1306.c ****         SSD1306_HEIGHT < (SSD1306.CurrentY + Font.FontHeight))
 509              		.loc 1 235 0 discriminator 1
 510 0030 202A     		cmp	r2, #32
 511 0032 3ADC     		bgt	.L59
 512 0034 1F46     		mov	r7, r3
 513 0036 8146     		mov	r9, r0
 243:Drivers/ssd1306/ssd1306.c ****         b = Font.data[(ch - 32) * Font.FontHeight + i];
 514              		.loc 1 243 0
 515 0038 0025     		movs	r5, #0
 516 003a 1FE0     		b	.L51
 517              	.LVL47:
 518              	.L53:
 249:Drivers/ssd1306/ssd1306.c ****             }
 519              		.loc 1 249 0
 520 003c 1C4B     		ldr	r3, .L63
 521 003e 1888     		ldrh	r0, [r3]
 522 0040 5988     		ldrh	r1, [r3, #2]
 523 0042 2944     		add	r1, r1, r5
 524 0044 2044     		add	r0, r0, r4
 525 0046 B7FA87F2 		clz	r2, r7
 526 004a 5209     		lsrs	r2, r2, #5
 527 004c C9B2     		uxtb	r1, r1
 528 004e C0B2     		uxtb	r0, r0
 529 0050 FFF7FEFF 		bl	ssd1306_DrawPixel
 530              	.LVL48:
ARM GAS  /tmp/ccTa7Z28.s 			page 17


 531              	.L54:
 245:Drivers/ssd1306/ssd1306.c ****             if((b << j) & 0x8000)  {
 532              		.loc 1 245 0 discriminator 2
 533 0054 0134     		adds	r4, r4, #1
 534              	.LVL49:
 535              	.L52:
 245:Drivers/ssd1306/ssd1306.c ****             if((b << j) & 0x8000)  {
 536              		.loc 1 245 0 is_stmt 0 discriminator 1
 537 0056 A642     		cmp	r6, r4
 538 0058 0FD9     		bls	.L61
 246:Drivers/ssd1306/ssd1306.c ****                 ssd1306_DrawPixel(SSD1306.CurrentX + j, (SSD1306.CurrentY + i), (SSD1306_COLOR) col
 539              		.loc 1 246 0 is_stmt 1
 540 005a 08FA04F3 		lsl	r3, r8, r4
 541 005e 13F4004F 		tst	r3, #32768
 542 0062 EBD0     		beq	.L53
 247:Drivers/ssd1306/ssd1306.c ****             } else {
 543              		.loc 1 247 0
 544 0064 124B     		ldr	r3, .L63
 545 0066 1888     		ldrh	r0, [r3]
 546 0068 5988     		ldrh	r1, [r3, #2]
 547 006a 2944     		add	r1, r1, r5
 548 006c 2044     		add	r0, r0, r4
 549 006e 3A46     		mov	r2, r7
 550 0070 C9B2     		uxtb	r1, r1
 551 0072 C0B2     		uxtb	r0, r0
 552 0074 FFF7FEFF 		bl	ssd1306_DrawPixel
 553              	.LVL50:
 554 0078 ECE7     		b	.L54
 555              	.L61:
 243:Drivers/ssd1306/ssd1306.c ****         b = Font.data[(ch - 32) * Font.FontHeight + i];
 556              		.loc 1 243 0 discriminator 2
 557 007a 0135     		adds	r5, r5, #1
 558              	.LVL51:
 559              	.L51:
 243:Drivers/ssd1306/ssd1306.c ****         b = Font.data[(ch - 32) * Font.FontHeight + i];
 560              		.loc 1 243 0 is_stmt 0 discriminator 1
 561 007c AA45     		cmp	r10, r5
 562 007e 08D9     		bls	.L62
 244:Drivers/ssd1306/ssd1306.c ****         for(j = 0; j < Font.FontWidth; j++) {
 563              		.loc 1 244 0 is_stmt 1
 564 0080 A9F12003 		sub	r3, r9, #32
 565 0084 03FB0B53 		mla	r3, r3, fp, r5
 566 0088 019A     		ldr	r2, [sp, #4]
 567 008a 32F81380 		ldrh	r8, [r2, r3, lsl #1]
 568              	.LVL52:
 245:Drivers/ssd1306/ssd1306.c ****             if((b << j) & 0x8000)  {
 569              		.loc 1 245 0
 570 008e 0024     		movs	r4, #0
 571 0090 E1E7     		b	.L52
 572              	.LVL53:
 573              	.L62:
 255:Drivers/ssd1306/ssd1306.c ****     
 574              		.loc 1 255 0
 575 0092 074B     		ldr	r3, .L63
 576 0094 1A88     		ldrh	r2, [r3]
 577 0096 1644     		add	r6, r6, r2
 578 0098 1E80     		strh	r6, [r3]	@ movhi
ARM GAS  /tmp/ccTa7Z28.s 			page 18


 258:Drivers/ssd1306/ssd1306.c **** }
 579              		.loc 1 258 0
 580 009a 4846     		mov	r0, r9
 581 009c 00E0     		b	.L50
 582              	.LVL54:
 583              	.L57:
 232:Drivers/ssd1306/ssd1306.c ****     
 584              		.loc 1 232 0
 585 009e 0020     		movs	r0, #0
 586              	.LVL55:
 587              	.L50:
 259:Drivers/ssd1306/ssd1306.c **** 
 588              		.loc 1 259 0
 589 00a0 03B0     		add	sp, sp, #12
 590              	.LCFI11:
 591              		.cfi_remember_state
 592              		.cfi_def_cfa_offset 36
 593              		@ sp needed
 594 00a2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 595              	.LVL56:
 596              	.L58:
 597              	.LCFI12:
 598              		.cfi_restore_state
 239:Drivers/ssd1306/ssd1306.c ****     }
 599              		.loc 1 239 0
 600 00a6 0020     		movs	r0, #0
 601              	.LVL57:
 602 00a8 FAE7     		b	.L50
 603              	.LVL58:
 604              	.L59:
 605 00aa 0020     		movs	r0, #0
 606              	.LVL59:
 607 00ac F8E7     		b	.L50
 608              	.L64:
 609 00ae 00BF     		.align	2
 610              	.L63:
 611 00b0 00000000 		.word	.LANCHOR1
 612              		.cfi_endproc
 613              	.LFE337:
 615              		.section	.text.ssd1306_WriteString,"ax",%progbits
 616              		.align	1
 617              		.global	ssd1306_WriteString
 618              		.syntax unified
 619              		.thumb
 620              		.thumb_func
 621              		.fpu fpv4-sp-d16
 623              	ssd1306_WriteString:
 624              	.LFB338:
 262:Drivers/ssd1306/ssd1306.c ****     // Write until null-byte
 625              		.loc 1 262 0
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 8
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629              	.LVL60:
 630 0000 70B5     		push	{r4, r5, r6, lr}
 631              	.LCFI13:
 632              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccTa7Z28.s 			page 19


 633              		.cfi_offset 4, -16
 634              		.cfi_offset 5, -12
 635              		.cfi_offset 6, -8
 636              		.cfi_offset 14, -4
 637 0002 82B0     		sub	sp, sp, #8
 638              	.LCFI14:
 639              		.cfi_def_cfa_offset 24
 640 0004 0546     		mov	r5, r0
 641 0006 02A8     		add	r0, sp, #8
 642              	.LVL61:
 643 0008 00E90600 		stmdb	r0, {r1, r2}
 644 000c 1E46     		mov	r6, r3
 645              	.LVL62:
 646              	.L66:
 264:Drivers/ssd1306/ssd1306.c ****         if (ssd1306_WriteChar(*str, Font, color) != *str) {
 647              		.loc 1 264 0
 648 000e 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 649 0010 5CB1     		cbz	r4, .L67
 265:Drivers/ssd1306/ssd1306.c ****             // Char could not be written
 650              		.loc 1 265 0
 651 0012 3346     		mov	r3, r6
 652 0014 02AA     		add	r2, sp, #8
 653 0016 12E90600 		ldmdb	r2, {r1, r2}
 654 001a 2046     		mov	r0, r4
 655 001c FFF7FEFF 		bl	ssd1306_WriteChar
 656              	.LVL63:
 657 0020 2C78     		ldrb	r4, [r5]	@ zero_extendqisi2
 658 0022 A042     		cmp	r0, r4
 659 0024 01D1     		bne	.L67
 271:Drivers/ssd1306/ssd1306.c ****     }
 660              		.loc 1 271 0
 661 0026 0135     		adds	r5, r5, #1
 662              	.LVL64:
 663 0028 F1E7     		b	.L66
 664              	.L67:
 276:Drivers/ssd1306/ssd1306.c **** 
 665              		.loc 1 276 0
 666 002a 2046     		mov	r0, r4
 667 002c 02B0     		add	sp, sp, #8
 668              	.LCFI15:
 669              		.cfi_def_cfa_offset 16
 670              		@ sp needed
 671 002e 70BD     		pop	{r4, r5, r6, pc}
 672              		.cfi_endproc
 673              	.LFE338:
 675              		.section	.text.ssd1306_SetCursor,"ax",%progbits
 676              		.align	1
 677              		.global	ssd1306_SetCursor
 678              		.syntax unified
 679              		.thumb
 680              		.thumb_func
 681              		.fpu fpv4-sp-d16
 683              	ssd1306_SetCursor:
 684              	.LFB339:
 279:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentX = x;
 685              		.loc 1 279 0
 686              		.cfi_startproc
ARM GAS  /tmp/ccTa7Z28.s 			page 20


 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 689              		@ link register save eliminated.
 690              	.LVL65:
 280:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentY = y;
 691              		.loc 1 280 0
 692 0000 014B     		ldr	r3, .L71
 693 0002 1880     		strh	r0, [r3]	@ movhi
 281:Drivers/ssd1306/ssd1306.c **** }
 694              		.loc 1 281 0
 695 0004 5980     		strh	r1, [r3, #2]	@ movhi
 282:Drivers/ssd1306/ssd1306.c **** 
 696              		.loc 1 282 0
 697 0006 7047     		bx	lr
 698              	.L72:
 699              		.align	2
 700              	.L71:
 701 0008 00000000 		.word	.LANCHOR1
 702              		.cfi_endproc
 703              	.LFE339:
 705              		.section	.text.ssd1306_Line,"ax",%progbits
 706              		.align	1
 707              		.global	ssd1306_Line
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 711              		.fpu fpv4-sp-d16
 713              	ssd1306_Line:
 714              	.LFB340:
 285:Drivers/ssd1306/ssd1306.c ****   int32_t deltaX = abs(x2 - x1);
 715              		.loc 1 285 0
 716              		.cfi_startproc
 717              		@ args = 4, pretend = 0, frame = 8
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719              	.LVL66:
 720 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 721              	.LCFI16:
 722              		.cfi_def_cfa_offset 36
 723              		.cfi_offset 4, -36
 724              		.cfi_offset 5, -32
 725              		.cfi_offset 6, -28
 726              		.cfi_offset 7, -24
 727              		.cfi_offset 8, -20
 728              		.cfi_offset 9, -16
 729              		.cfi_offset 10, -12
 730              		.cfi_offset 11, -8
 731              		.cfi_offset 14, -4
 732 0004 83B0     		sub	sp, sp, #12
 733              	.LCFI17:
 734              		.cfi_def_cfa_offset 48
 735 0006 0446     		mov	r4, r0
 736 0008 0D46     		mov	r5, r1
 737 000a 9146     		mov	r9, r2
 738 000c 9A46     		mov	r10, r3
 739 000e 9DF83030 		ldrb	r3, [sp, #48]	@ zero_extendqisi2
 740              	.LVL67:
 741 0012 0093     		str	r3, [sp]
ARM GAS  /tmp/ccTa7Z28.s 			page 21


 286:Drivers/ssd1306/ssd1306.c ****   int32_t deltaY = abs(y2 - y1);
 742              		.loc 1 286 0
 743 0014 A2EB0008 		sub	r8, r2, r0
 744 0018 B8F1000F 		cmp	r8, #0
 745 001c B8BF     		it	lt
 746 001e C8F10008 		rsblt	r8, r8, #0
 747              	.LVL68:
 287:Drivers/ssd1306/ssd1306.c ****   int32_t signX = ((x1 < x2) ? 1 : -1);
 748              		.loc 1 287 0
 749 0022 AAEB0107 		sub	r7, r10, r1
 750 0026 002F     		cmp	r7, #0
 751 0028 B8BF     		it	lt
 752 002a 7F42     		rsblt	r7, r7, #0
 753              	.LVL69:
 288:Drivers/ssd1306/ssd1306.c ****   int32_t signY = ((y1 < y2) ? 1 : -1);
 754              		.loc 1 288 0
 755 002c 8242     		cmp	r2, r0
 756 002e 0DD9     		bls	.L80
 757 0030 0123     		movs	r3, #1
 758 0032 0193     		str	r3, [sp, #4]
 759              	.L74:
 760              	.LVL70:
 289:Drivers/ssd1306/ssd1306.c ****   int32_t error = deltaX - deltaY;
 761              		.loc 1 289 0 discriminator 4
 762 0034 AA45     		cmp	r10, r5
 763 0036 0DD9     		bls	.L81
 289:Drivers/ssd1306/ssd1306.c ****   int32_t error = deltaX - deltaY;
 764              		.loc 1 289 0 is_stmt 0
 765 0038 4FF0010B 		mov	fp, #1
 766              	.L75:
 767              	.LVL71:
 290:Drivers/ssd1306/ssd1306.c ****   int32_t error2;
 768              		.loc 1 290 0 is_stmt 1 discriminator 4
 769 003c A8EB0706 		sub	r6, r8, r7
 770              	.LVL72:
 293:Drivers/ssd1306/ssd1306.c ****     while((x1 != x2) || (y1 != y2))
 771              		.loc 1 293 0 discriminator 4
 772 0040 009A     		ldr	r2, [sp]
 773              	.LVL73:
 774 0042 5146     		mov	r1, r10
 775              	.LVL74:
 776 0044 4846     		mov	r0, r9
 777              	.LVL75:
 778 0046 FFF7FEFF 		bl	ssd1306_DrawPixel
 779              	.LVL76:
 294:Drivers/ssd1306/ssd1306.c ****     {
 780              		.loc 1 294 0 discriminator 4
 781 004a 18E0     		b	.L76
 782              	.LVL77:
 783              	.L80:
 288:Drivers/ssd1306/ssd1306.c ****   int32_t signY = ((y1 < y2) ? 1 : -1);
 784              		.loc 1 288 0
 785 004c 4FF0FF33 		mov	r3, #-1
 786 0050 0193     		str	r3, [sp, #4]
 787 0052 EFE7     		b	.L74
 788              	.LVL78:
 789              	.L81:
ARM GAS  /tmp/ccTa7Z28.s 			page 22


 289:Drivers/ssd1306/ssd1306.c ****   int32_t error = deltaX - deltaY;
 790              		.loc 1 289 0
 791 0054 4FF0FF3B 		mov	fp, #-1
 792 0058 F0E7     		b	.L75
 793              	.LVL79:
 794              	.L79:
 296:Drivers/ssd1306/ssd1306.c ****     error2 = error * 2;
 795              		.loc 1 296 0
 796 005a 009A     		ldr	r2, [sp]
 797 005c 2946     		mov	r1, r5
 798 005e 2046     		mov	r0, r4
 799 0060 FFF7FEFF 		bl	ssd1306_DrawPixel
 800              	.LVL80:
 297:Drivers/ssd1306/ssd1306.c ****     if(error2 > -deltaY)
 801              		.loc 1 297 0
 802 0064 7300     		lsls	r3, r6, #1
 803              	.LVL81:
 298:Drivers/ssd1306/ssd1306.c ****     {
 804              		.loc 1 298 0
 805 0066 7A42     		negs	r2, r7
 806 0068 9A42     		cmp	r2, r3
 807 006a 03DA     		bge	.L77
 300:Drivers/ssd1306/ssd1306.c ****       x1 += signX;
 808              		.loc 1 300 0
 809 006c F61B     		subs	r6, r6, r7
 810              	.LVL82:
 301:Drivers/ssd1306/ssd1306.c ****     }
 811              		.loc 1 301 0
 812 006e 019A     		ldr	r2, [sp, #4]
 813 0070 1444     		add	r4, r4, r2
 814              	.LVL83:
 815 0072 E4B2     		uxtb	r4, r4
 816              	.LVL84:
 817              	.L77:
 308:Drivers/ssd1306/ssd1306.c ****     {
 818              		.loc 1 308 0
 819 0074 9845     		cmp	r8, r3
 820 0076 02DD     		ble	.L76
 310:Drivers/ssd1306/ssd1306.c ****       y1 += signY;
 821              		.loc 1 310 0
 822 0078 4644     		add	r6, r6, r8
 823              	.LVL85:
 311:Drivers/ssd1306/ssd1306.c ****     }
 824              		.loc 1 311 0
 825 007a 5D44     		add	r5, r5, fp
 826              	.LVL86:
 827 007c EDB2     		uxtb	r5, r5
 828              	.LVL87:
 829              	.L76:
 294:Drivers/ssd1306/ssd1306.c ****     {
 830              		.loc 1 294 0
 831 007e 4C45     		cmp	r4, r9
 832 0080 EBD1     		bne	.L79
 294:Drivers/ssd1306/ssd1306.c ****     {
 833              		.loc 1 294 0 is_stmt 0 discriminator 1
 834 0082 5545     		cmp	r5, r10
 835 0084 E9D1     		bne	.L79
ARM GAS  /tmp/ccTa7Z28.s 			page 23


 319:Drivers/ssd1306/ssd1306.c **** //Draw polyline
 836              		.loc 1 319 0 is_stmt 1
 837 0086 03B0     		add	sp, sp, #12
 838              	.LCFI18:
 839              		.cfi_def_cfa_offset 36
 840              		@ sp needed
 841 0088 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 842              		.cfi_endproc
 843              	.LFE340:
 845              		.section	.text.ssd1306_Polyline,"ax",%progbits
 846              		.align	1
 847              		.global	ssd1306_Polyline
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu fpv4-sp-d16
 853              	ssd1306_Polyline:
 854              	.LFB341:
 321:Drivers/ssd1306/ssd1306.c ****   uint16_t i;
 855              		.loc 1 321 0
 856              		.cfi_startproc
 857              		@ args = 0, pretend = 0, frame = 0
 858              		@ frame_needed = 0, uses_anonymous_args = 0
 859              	.LVL88:
 323:Drivers/ssd1306/ssd1306.c ****     for(i = 1; i < par_size; i++){
 860              		.loc 1 323 0
 861 0000 38B1     		cbz	r0, .L91
 321:Drivers/ssd1306/ssd1306.c ****   uint16_t i;
 862              		.loc 1 321 0
 863 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 864              	.LCFI19:
 865              		.cfi_def_cfa_offset 24
 866              		.cfi_offset 4, -24
 867              		.cfi_offset 5, -20
 868              		.cfi_offset 6, -16
 869              		.cfi_offset 7, -12
 870              		.cfi_offset 8, -8
 871              		.cfi_offset 14, -4
 872 0006 82B0     		sub	sp, sp, #8
 873              	.LCFI20:
 874              		.cfi_def_cfa_offset 32
 875 0008 0646     		mov	r6, r0
 876 000a 9046     		mov	r8, r2
 877 000c 0F46     		mov	r7, r1
 324:Drivers/ssd1306/ssd1306.c ****       ssd1306_Line(par_vertex[i - 1].x, par_vertex[i - 1].y, par_vertex[i].x, par_vertex[i].y, colo
 878              		.loc 1 324 0
 879 000e 0124     		movs	r4, #1
 880 0010 13E0     		b	.L84
 881              	.L91:
 882              	.LCFI21:
 883              		.cfi_def_cfa_offset 0
 884              		.cfi_restore 4
 885              		.cfi_restore 5
 886              		.cfi_restore 6
 887              		.cfi_restore 7
 888              		.cfi_restore 8
 889              		.cfi_restore 14
ARM GAS  /tmp/ccTa7Z28.s 			page 24


 890 0012 7047     		bx	lr
 891              	.LVL89:
 892              	.L86:
 893              	.LCFI22:
 894              		.cfi_def_cfa_offset 32
 895              		.cfi_offset 4, -24
 896              		.cfi_offset 5, -20
 897              		.cfi_offset 6, -16
 898              		.cfi_offset 7, -12
 899              		.cfi_offset 8, -8
 900              		.cfi_offset 14, -4
 325:Drivers/ssd1306/ssd1306.c ****     }
 901              		.loc 1 325 0 discriminator 3
 902 0014 04F10045 		add	r5, r4, #-2147483648
 903 0018 013D     		subs	r5, r5, #1
 904 001a 06EB4501 		add	r1, r6, r5, lsl #1
 905 001e 06EB4403 		add	r3, r6, r4, lsl #1
 906 0022 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 907 0024 16F81420 		ldrb	r2, [r6, r4, lsl #1]	@ zero_extendqisi2
 908 0028 4978     		ldrb	r1, [r1, #1]	@ zero_extendqisi2
 909 002a 16F81500 		ldrb	r0, [r6, r5, lsl #1]	@ zero_extendqisi2
 910 002e CDF80080 		str	r8, [sp]
 911 0032 FFF7FEFF 		bl	ssd1306_Line
 912              	.LVL90:
 324:Drivers/ssd1306/ssd1306.c ****       ssd1306_Line(par_vertex[i - 1].x, par_vertex[i - 1].y, par_vertex[i].x, par_vertex[i].y, colo
 913              		.loc 1 324 0 discriminator 3
 914 0036 0134     		adds	r4, r4, #1
 915              	.LVL91:
 916 0038 A4B2     		uxth	r4, r4
 917              	.LVL92:
 918              	.L84:
 324:Drivers/ssd1306/ssd1306.c ****       ssd1306_Line(par_vertex[i - 1].x, par_vertex[i - 1].y, par_vertex[i].x, par_vertex[i].y, colo
 919              		.loc 1 324 0 is_stmt 0 discriminator 1
 920 003a BC42     		cmp	r4, r7
 921 003c EAD3     		bcc	.L86
 333:Drivers/ssd1306/ssd1306.c **** /*Convert Degrees to Radians*/
 922              		.loc 1 333 0 is_stmt 1
 923 003e 02B0     		add	sp, sp, #8
 924              	.LCFI23:
 925              		.cfi_def_cfa_offset 24
 926              		@ sp needed
 927 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 928              		.cfi_endproc
 929              	.LFE341:
 931              		.global	__aeabi_i2d
 932              		.global	__aeabi_d2iz
 933              		.section	.text.ssd1306_DrawArc,"ax",%progbits
 934              		.align	1
 935              		.global	ssd1306_DrawArc
 936              		.syntax unified
 937              		.thumb
 938              		.thumb_func
 939              		.fpu fpv4-sp-d16
 941              	ssd1306_DrawArc:
 942              	.LFB344:
 352:Drivers/ssd1306/ssd1306.c **** /*DrawArc. Draw angle is beginning from 4 quart of trigonometric circle (3pi/2)
 353:Drivers/ssd1306/ssd1306.c ****  * start_angle in degree
ARM GAS  /tmp/ccTa7Z28.s 			page 25


 354:Drivers/ssd1306/ssd1306.c ****  * sweep in degree
 355:Drivers/ssd1306/ssd1306.c ****  */
 356:Drivers/ssd1306/ssd1306.c **** void ssd1306_DrawArc(uint8_t x, uint8_t y, uint8_t radius, uint16_t start_angle, uint16_t sweep, SS
 943              		.loc 1 356 0
 944              		.cfi_startproc
 945              		@ args = 8, pretend = 0, frame = 16
 946              		@ frame_needed = 0, uses_anonymous_args = 0
 947              	.LVL93:
 948 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 949              	.LCFI24:
 950              		.cfi_def_cfa_offset 36
 951              		.cfi_offset 4, -36
 952              		.cfi_offset 5, -32
 953              		.cfi_offset 6, -28
 954              		.cfi_offset 7, -24
 955              		.cfi_offset 8, -20
 956              		.cfi_offset 9, -16
 957              		.cfi_offset 10, -12
 958              		.cfi_offset 11, -8
 959              		.cfi_offset 14, -4
 960 0004 2DED048B 		vpush.64	{d8, d9}
 961              	.LCFI25:
 962              		.cfi_def_cfa_offset 52
 963              		.cfi_offset 80, -52
 964              		.cfi_offset 81, -48
 965              		.cfi_offset 82, -44
 966              		.cfi_offset 83, -40
 967 0008 87B0     		sub	sp, sp, #28
 968              	.LCFI26:
 969              		.cfi_def_cfa_offset 80
 970 000a 8346     		mov	fp, r0
 971 000c 0F46     		mov	r7, r1
 972 000e 0592     		str	r2, [sp, #20]
 973 0010 1C46     		mov	r4, r3
 974 0012 9DF85460 		ldrb	r6, [sp, #84]	@ zero_extendqisi2
 975              	.LVL94:
 357:Drivers/ssd1306/ssd1306.c ****     #define CIRCLE_APPROXIMATION_SEGMENTS 36
 358:Drivers/ssd1306/ssd1306.c ****     float approx_degree;
 359:Drivers/ssd1306/ssd1306.c ****     uint32_t approx_segments;
 360:Drivers/ssd1306/ssd1306.c ****     uint8_t xp1,xp2;
 361:Drivers/ssd1306/ssd1306.c ****     uint8_t yp1,yp2;
 362:Drivers/ssd1306/ssd1306.c ****     uint32_t count = 0;
 363:Drivers/ssd1306/ssd1306.c ****     uint32_t loc_sweep = 0;
 364:Drivers/ssd1306/ssd1306.c ****     float rad;
 365:Drivers/ssd1306/ssd1306.c ****     
 366:Drivers/ssd1306/ssd1306.c ****     loc_sweep = ssd1306_NormalizeTo0_360(sweep);
 976              		.loc 1 366 0
 977 0016 BDF85000 		ldrh	r0, [sp, #80]
 978              	.LVL95:
 979 001a FFF7FEFF 		bl	ssd1306_NormalizeTo0_360
 980              	.LVL96:
 981 001e 0546     		mov	r5, r0
 982              	.LVL97:
 367:Drivers/ssd1306/ssd1306.c ****     
 368:Drivers/ssd1306/ssd1306.c ****     count = (ssd1306_NormalizeTo0_360(start_angle) * CIRCLE_APPROXIMATION_SEGMENTS) / 360;
 983              		.loc 1 368 0
 984 0020 2046     		mov	r0, r4
ARM GAS  /tmp/ccTa7Z28.s 			page 26


 985              	.LVL98:
 986 0022 FFF7FEFF 		bl	ssd1306_NormalizeTo0_360
 987              	.LVL99:
 988 0026 00EBC000 		add	r0, r0, r0, lsl #3
 989 002a 8300     		lsls	r3, r0, #2
 990 002c 4C4C     		ldr	r4, .L99
 991 002e 84FB0324 		smull	r2, r4, r4, r3
 992 0032 1C44     		add	r4, r4, r3
 993 0034 DB17     		asrs	r3, r3, #31
 994 0036 C3EB2424 		rsb	r4, r3, r4, asr #8
 995              	.LVL100:
 369:Drivers/ssd1306/ssd1306.c ****     approx_segments = (loc_sweep * CIRCLE_APPROXIMATION_SEGMENTS) / 360;
 996              		.loc 1 369 0
 997 003a 05EBC503 		add	r3, r5, r5, lsl #3
 998 003e 4FEA830A 		lsl	r10, r3, #2
 999 0042 4FEADA0A 		lsr	r10, r10, #3
 1000 0046 474B     		ldr	r3, .L99+4
 1001 0048 A3FB0A3A 		umull	r3, r10, r3, r10
 1002 004c 4FEA9A0A 		lsr	r10, r10, #2
 1003              	.LVL101:
 370:Drivers/ssd1306/ssd1306.c ****     approx_degree = loc_sweep / (float)approx_segments;
 1004              		.loc 1 370 0
 1005 0050 07EE905A 		vmov	s15, r5	@ int
 1006 0054 F8EE679A 		vcvt.f32.u32	s19, s15
 1007 0058 07EE90AA 		vmov	s15, r10	@ int
 1008 005c F8EE677A 		vcvt.f32.u32	s15, s15
 1009 0060 89EEA79A 		vdiv.f32	s18, s19, s15
 1010              	.LVL102:
 371:Drivers/ssd1306/ssd1306.c ****     while(count < approx_segments)
 1011              		.loc 1 371 0
 1012 0064 30E0     		b	.L93
 1013              	.LVL103:
 1014              	.L94:
 372:Drivers/ssd1306/ssd1306.c ****     {
 373:Drivers/ssd1306/ssd1306.c ****         rad = ssd1306_DegToRad(count*approx_degree);
 374:Drivers/ssd1306/ssd1306.c ****         xp1 = x + (int8_t)(sin(rad)*radius);
 375:Drivers/ssd1306/ssd1306.c ****         yp1 = y + (int8_t)(cos(rad)*radius);    
 376:Drivers/ssd1306/ssd1306.c ****         count++;
 377:Drivers/ssd1306/ssd1306.c ****         if(count != approx_segments)
 378:Drivers/ssd1306/ssd1306.c ****         {
 379:Drivers/ssd1306/ssd1306.c ****             rad = ssd1306_DegToRad(count*approx_degree);
 380:Drivers/ssd1306/ssd1306.c ****         }
 381:Drivers/ssd1306/ssd1306.c ****         else
 382:Drivers/ssd1306/ssd1306.c ****         {            
 383:Drivers/ssd1306/ssd1306.c ****             rad = ssd1306_DegToRad(loc_sweep);
 1015              		.loc 1 383 0
 1016 0066 B0EE690A 		vmov.f32	s0, s19
 1017 006a FFF7FEFF 		bl	ssd1306_DegToRad
 1018              	.LVL104:
 1019 006e 10EE100A 		vmov	r0, s0
 1020              	.LVL105:
 1021              	.L95:
 384:Drivers/ssd1306/ssd1306.c ****         }
 385:Drivers/ssd1306/ssd1306.c ****         xp2 = x + (int8_t)(sin(rad)*radius);
 1022              		.loc 1 385 0
 1023 0072 FFF7FEFF 		bl	__aeabi_f2d
 1024              	.LVL106:
ARM GAS  /tmp/ccTa7Z28.s 			page 27


 1025 0076 41EC180B 		vmov	d8, r0, r1
 1026 007a 41EC100B 		vmov	d0, r0, r1
 1027 007e FFF7FEFF 		bl	sin
 1028              	.LVL107:
 1029 0082 53EC102B 		vmov	r2, r3, d0
 1030 0086 DDE90201 		ldrd	r0, [sp, #8]
 1031 008a FFF7FEFF 		bl	__aeabi_dmul
 1032              	.LVL108:
 1033 008e FFF7FEFF 		bl	__aeabi_d2iz
 1034              	.LVL109:
 1035 0092 5BFA80F0 		uxtab	r0, fp, r0
 1036 0096 5FFA80F9 		uxtb	r9, r0
 1037              	.LVL110:
 386:Drivers/ssd1306/ssd1306.c ****         yp2 = y + (int8_t)(cos(rad)*radius);    
 1038              		.loc 1 386 0
 1039 009a B0EE480A 		vmov.f32	s0, s16
 1040 009e F0EE680A 		vmov.f32	s1, s17
 1041 00a2 FFF7FEFF 		bl	cos
 1042              	.LVL111:
 1043 00a6 53EC102B 		vmov	r2, r3, d0
 1044 00aa DDE90201 		ldrd	r0, [sp, #8]
 1045 00ae FFF7FEFF 		bl	__aeabi_dmul
 1046              	.LVL112:
 1047 00b2 FFF7FEFF 		bl	__aeabi_d2iz
 1048              	.LVL113:
 1049 00b6 57FA80F3 		uxtab	r3, r7, r0
 1050              	.LVL114:
 387:Drivers/ssd1306/ssd1306.c ****         ssd1306_Line(xp1,yp1,xp2,yp2,color);
 1051              		.loc 1 387 0
 1052 00ba 0096     		str	r6, [sp]
 1053 00bc DBB2     		uxtb	r3, r3
 1054 00be 4A46     		mov	r2, r9
 1055 00c0 4146     		mov	r1, r8
 1056 00c2 2846     		mov	r0, r5
 1057 00c4 FFF7FEFF 		bl	ssd1306_Line
 1058              	.LVL115:
 1059              	.L93:
 371:Drivers/ssd1306/ssd1306.c ****     {
 1060              		.loc 1 371 0
 1061 00c8 5445     		cmp	r4, r10
 1062 00ca 43D2     		bcs	.L98
 373:Drivers/ssd1306/ssd1306.c ****         xp1 = x + (int8_t)(sin(rad)*radius);
 1063              		.loc 1 373 0
 1064 00cc 07EE904A 		vmov	s15, r4	@ int
 1065 00d0 B8EE670A 		vcvt.f32.u32	s0, s15
 1066 00d4 20EE090A 		vmul.f32	s0, s0, s18
 1067 00d8 FFF7FEFF 		bl	ssd1306_DegToRad
 1068              	.LVL116:
 374:Drivers/ssd1306/ssd1306.c ****         yp1 = y + (int8_t)(cos(rad)*radius);    
 1069              		.loc 1 374 0
 1070 00dc 10EE100A 		vmov	r0, s0
 1071 00e0 FFF7FEFF 		bl	__aeabi_f2d
 1072              	.LVL117:
 1073 00e4 41EC180B 		vmov	d8, r0, r1
 1074 00e8 41EC100B 		vmov	d0, r0, r1
 1075 00ec FFF7FEFF 		bl	sin
 1076              	.LVL118:
ARM GAS  /tmp/ccTa7Z28.s 			page 28


 1077 00f0 59EC108B 		vmov	r8, r9, d0
 1078 00f4 0598     		ldr	r0, [sp, #20]
 1079 00f6 FFF7FEFF 		bl	__aeabi_i2d
 1080              	.LVL119:
 1081 00fa CDE90201 		strd	r0, [sp, #8]
 1082 00fe 0246     		mov	r2, r0
 1083 0100 0B46     		mov	r3, r1
 1084 0102 4046     		mov	r0, r8
 1085 0104 4946     		mov	r1, r9
 1086 0106 FFF7FEFF 		bl	__aeabi_dmul
 1087              	.LVL120:
 1088 010a FFF7FEFF 		bl	__aeabi_d2iz
 1089              	.LVL121:
 1090 010e 5BFA80F0 		uxtab	r0, fp, r0
 1091 0112 C5B2     		uxtb	r5, r0
 1092              	.LVL122:
 375:Drivers/ssd1306/ssd1306.c ****         count++;
 1093              		.loc 1 375 0
 1094 0114 B0EE480A 		vmov.f32	s0, s16
 1095 0118 F0EE680A 		vmov.f32	s1, s17
 1096 011c FFF7FEFF 		bl	cos
 1097              	.LVL123:
 1098 0120 53EC102B 		vmov	r2, r3, d0
 1099 0124 DDE90201 		ldrd	r0, [sp, #8]
 1100 0128 FFF7FEFF 		bl	__aeabi_dmul
 1101              	.LVL124:
 1102 012c FFF7FEFF 		bl	__aeabi_d2iz
 1103              	.LVL125:
 1104 0130 57FA80F0 		uxtab	r0, r7, r0
 1105 0134 5FFA80F8 		uxtb	r8, r0
 1106              	.LVL126:
 376:Drivers/ssd1306/ssd1306.c ****         if(count != approx_segments)
 1107              		.loc 1 376 0
 1108 0138 0134     		adds	r4, r4, #1
 1109              	.LVL127:
 377:Drivers/ssd1306/ssd1306.c ****         {
 1110              		.loc 1 377 0
 1111 013a A245     		cmp	r10, r4
 1112 013c 93D0     		beq	.L94
 379:Drivers/ssd1306/ssd1306.c ****         }
 1113              		.loc 1 379 0
 1114 013e 07EE904A 		vmov	s15, r4	@ int
 1115 0142 B8EE670A 		vcvt.f32.u32	s0, s15
 1116 0146 20EE090A 		vmul.f32	s0, s0, s18
 1117 014a FFF7FEFF 		bl	ssd1306_DegToRad
 1118              	.LVL128:
 1119 014e 10EE100A 		vmov	r0, s0
 1120              	.LVL129:
 1121 0152 8EE7     		b	.L95
 1122              	.LVL130:
 1123              	.L98:
 388:Drivers/ssd1306/ssd1306.c ****     }
 389:Drivers/ssd1306/ssd1306.c ****     
 390:Drivers/ssd1306/ssd1306.c ****     return;
 391:Drivers/ssd1306/ssd1306.c **** }
 1124              		.loc 1 391 0
 1125 0154 07B0     		add	sp, sp, #28
ARM GAS  /tmp/ccTa7Z28.s 			page 29


 1126              	.LCFI27:
 1127              		.cfi_def_cfa_offset 52
 1128              		@ sp needed
 1129 0156 BDEC048B 		vldm	sp!, {d8-d9}
 1130              	.LCFI28:
 1131              		.cfi_restore 82
 1132              		.cfi_restore 83
 1133              		.cfi_restore 80
 1134              		.cfi_restore 81
 1135              		.cfi_def_cfa_offset 36
 1136              	.LVL131:
 1137 015a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1138              	.LVL132:
 1139              	.L100:
 1140 015e 00BF     		.align	2
 1141              	.L99:
 1142 0160 B7600BB6 		.word	-1240768329
 1143 0164 176CC116 		.word	381774871
 1144              		.cfi_endproc
 1145              	.LFE344:
 1147              		.section	.text.ssd1306_DrawCircle,"ax",%progbits
 1148              		.align	1
 1149              		.global	ssd1306_DrawCircle
 1150              		.syntax unified
 1151              		.thumb
 1152              		.thumb_func
 1153              		.fpu fpv4-sp-d16
 1155              	ssd1306_DrawCircle:
 1156              	.LFB345:
 392:Drivers/ssd1306/ssd1306.c **** //Draw circle by Bresenhem's algorithm
 393:Drivers/ssd1306/ssd1306.c **** void ssd1306_DrawCircle(uint8_t par_x,uint8_t par_y,uint8_t par_r,SSD1306_COLOR par_color) {
 1157              		.loc 1 393 0
 1158              		.cfi_startproc
 1159              		@ args = 0, pretend = 0, frame = 8
 1160              		@ frame_needed = 0, uses_anonymous_args = 0
 1161              	.LVL133:
 394:Drivers/ssd1306/ssd1306.c ****   int32_t x = -par_r;
 395:Drivers/ssd1306/ssd1306.c ****   int32_t y = 0;
 396:Drivers/ssd1306/ssd1306.c ****   int32_t err = 2 - 2 * par_r;
 397:Drivers/ssd1306/ssd1306.c ****   int32_t e2;
 398:Drivers/ssd1306/ssd1306.c **** 
 399:Drivers/ssd1306/ssd1306.c ****   if (par_x >= SSD1306_WIDTH || par_y >= SSD1306_HEIGHT) {
 1162              		.loc 1 399 0
 1163 0000 10F0800F 		tst	r0, #128
 1164 0004 53D1     		bne	.L110
 393:Drivers/ssd1306/ssd1306.c ****   int32_t x = -par_r;
 1165              		.loc 1 393 0 discriminator 1
 1166 0006 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1167              	.LCFI29:
 1168              		.cfi_def_cfa_offset 36
 1169              		.cfi_offset 4, -36
 1170              		.cfi_offset 5, -32
 1171              		.cfi_offset 6, -28
 1172              		.cfi_offset 7, -24
 1173              		.cfi_offset 8, -20
 1174              		.cfi_offset 9, -16
 1175              		.cfi_offset 10, -12
ARM GAS  /tmp/ccTa7Z28.s 			page 30


 1176              		.cfi_offset 11, -8
 1177              		.cfi_offset 14, -4
 1178 000a 83B0     		sub	sp, sp, #12
 1179              	.LCFI30:
 1180              		.cfi_def_cfa_offset 48
 1181 000c 5742     		negs	r7, r2
 1182              	.LVL134:
 1183 000e C2F10102 		rsb	r2, r2, #1
 1184              	.LVL135:
 1185 0012 5400     		lsls	r4, r2, #1
 1186              		.loc 1 399 0 discriminator 1
 1187 0014 1F29     		cmp	r1, #31
 1188 0016 47D8     		bhi	.L101
 1189 0018 0093     		str	r3, [sp]
 1190 001a 8B46     		mov	fp, r1
 1191 001c 0190     		str	r0, [sp, #4]
 395:Drivers/ssd1306/ssd1306.c ****   int32_t err = 2 - 2 * par_r;
 1192              		.loc 1 395 0
 1193 001e 4FF0000A 		mov	r10, #0
 1194 0022 08E0     		b	.L105
 1195              	.LVL136:
 1196              	.L106:
 1197 0024 2346     		mov	r3, r4
 1198              	.LVL137:
 1199              	.L103:
 400:Drivers/ssd1306/ssd1306.c ****     return;
 401:Drivers/ssd1306/ssd1306.c ****   }
 402:Drivers/ssd1306/ssd1306.c **** 
 403:Drivers/ssd1306/ssd1306.c ****     do {
 404:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x - x, par_y + y, par_color);
 405:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x + x, par_y + y, par_color);
 406:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x + x, par_y - y, par_color);
 407:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x - x, par_y - y, par_color);
 408:Drivers/ssd1306/ssd1306.c ****         e2 = err;
 409:Drivers/ssd1306/ssd1306.c ****         if (e2 <= y) {
 410:Drivers/ssd1306/ssd1306.c ****             y++;
 411:Drivers/ssd1306/ssd1306.c ****             err = err + (y * 2 + 1);
 412:Drivers/ssd1306/ssd1306.c ****             if(-x == y && e2 <= x) {
 413:Drivers/ssd1306/ssd1306.c ****               e2 = 0;
 414:Drivers/ssd1306/ssd1306.c ****             }
 415:Drivers/ssd1306/ssd1306.c ****             else
 416:Drivers/ssd1306/ssd1306.c ****             {
 417:Drivers/ssd1306/ssd1306.c ****               /*nothing to do*/
 418:Drivers/ssd1306/ssd1306.c ****             }
 419:Drivers/ssd1306/ssd1306.c ****         }
 420:Drivers/ssd1306/ssd1306.c ****         else
 421:Drivers/ssd1306/ssd1306.c ****         {
 422:Drivers/ssd1306/ssd1306.c ****           /*nothing to do*/
 423:Drivers/ssd1306/ssd1306.c ****         }
 424:Drivers/ssd1306/ssd1306.c ****         if(e2 > x) {
 1200              		.loc 1 424 0
 1201 0026 A742     		cmp	r7, r4
 1202 0028 3CDA     		bge	.L108
 425:Drivers/ssd1306/ssd1306.c ****           x++;
 1203              		.loc 1 425 0
 1204 002a 0137     		adds	r7, r7, #1
 1205              	.LVL138:
ARM GAS  /tmp/ccTa7Z28.s 			page 31


 426:Drivers/ssd1306/ssd1306.c ****           err = err + (x * 2 + 1);
 1206              		.loc 1 426 0
 1207 002c 7C00     		lsls	r4, r7, #1
 1208              	.LVL139:
 1209 002e 0134     		adds	r4, r4, #1
 1210 0030 1C44     		add	r4, r4, r3
 1211              	.LVL140:
 1212              	.L104:
 427:Drivers/ssd1306/ssd1306.c ****         }
 428:Drivers/ssd1306/ssd1306.c ****         else
 429:Drivers/ssd1306/ssd1306.c ****         {
 430:Drivers/ssd1306/ssd1306.c ****           /*nothing to do*/
 431:Drivers/ssd1306/ssd1306.c ****         }
 432:Drivers/ssd1306/ssd1306.c ****     } while(x <= 0);
 1213              		.loc 1 432 0
 1214 0032 002F     		cmp	r7, #0
 1215 0034 38DC     		bgt	.L101
 1216              	.LVL141:
 1217              	.L105:
 404:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x + x, par_y + y, par_color);
 1218              		.loc 1 404 0
 1219 0036 FEB2     		uxtb	r6, r7
 1220 0038 019B     		ldr	r3, [sp, #4]
 1221 003a A3EB0608 		sub	r8, r3, r6
 1222 003e 5FFA88F8 		uxtb	r8, r8
 1223 0042 5FFA8AF5 		uxtb	r5, r10
 1224 0046 05EB0B09 		add	r9, r5, fp
 1225 004a 5FFA89F9 		uxtb	r9, r9
 1226 004e 009A     		ldr	r2, [sp]
 1227 0050 4946     		mov	r1, r9
 1228 0052 4046     		mov	r0, r8
 1229 0054 FFF7FEFF 		bl	ssd1306_DrawPixel
 1230              	.LVL142:
 405:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x + x, par_y - y, par_color);
 1231              		.loc 1 405 0
 1232 0058 019B     		ldr	r3, [sp, #4]
 1233 005a 1E44     		add	r6, r6, r3
 1234 005c F6B2     		uxtb	r6, r6
 1235 005e 009A     		ldr	r2, [sp]
 1236 0060 4946     		mov	r1, r9
 1237 0062 3046     		mov	r0, r6
 1238 0064 FFF7FEFF 		bl	ssd1306_DrawPixel
 1239              	.LVL143:
 406:Drivers/ssd1306/ssd1306.c ****       ssd1306_DrawPixel(par_x - x, par_y - y, par_color);
 1240              		.loc 1 406 0
 1241 0068 ABEB0505 		sub	r5, fp, r5
 1242 006c EDB2     		uxtb	r5, r5
 1243 006e DDF80090 		ldr	r9, [sp]
 1244 0072 4A46     		mov	r2, r9
 1245 0074 2946     		mov	r1, r5
 1246 0076 3046     		mov	r0, r6
 1247 0078 FFF7FEFF 		bl	ssd1306_DrawPixel
 1248              	.LVL144:
 407:Drivers/ssd1306/ssd1306.c ****         e2 = err;
 1249              		.loc 1 407 0
 1250 007c 4A46     		mov	r2, r9
 1251 007e 2946     		mov	r1, r5
ARM GAS  /tmp/ccTa7Z28.s 			page 32


 1252 0080 4046     		mov	r0, r8
 1253 0082 FFF7FEFF 		bl	ssd1306_DrawPixel
 1254              	.LVL145:
 409:Drivers/ssd1306/ssd1306.c ****             y++;
 1255              		.loc 1 409 0
 1256 0086 A245     		cmp	r10, r4
 1257 0088 CCDB     		blt	.L106
 410:Drivers/ssd1306/ssd1306.c ****             err = err + (y * 2 + 1);
 1258              		.loc 1 410 0
 1259 008a 0AF1010A 		add	r10, r10, #1
 1260              	.LVL146:
 411:Drivers/ssd1306/ssd1306.c ****             if(-x == y && e2 <= x) {
 1261              		.loc 1 411 0
 1262 008e 4FEA4A03 		lsl	r3, r10, #1
 1263 0092 0133     		adds	r3, r3, #1
 1264 0094 2344     		add	r3, r3, r4
 1265              	.LVL147:
 412:Drivers/ssd1306/ssd1306.c ****               e2 = 0;
 1266              		.loc 1 412 0
 1267 0096 1AEB070F 		cmn	r10, r7
 1268 009a C4D1     		bne	.L103
 412:Drivers/ssd1306/ssd1306.c ****               e2 = 0;
 1269              		.loc 1 412 0 is_stmt 0 discriminator 1
 1270 009c A742     		cmp	r7, r4
 1271 009e C2DB     		blt	.L103
 413:Drivers/ssd1306/ssd1306.c ****             }
 1272              		.loc 1 413 0 is_stmt 1
 1273 00a0 0024     		movs	r4, #0
 1274              	.LVL148:
 1275 00a2 C0E7     		b	.L103
 1276              	.LVL149:
 1277              	.L108:
 1278 00a4 1C46     		mov	r4, r3
 1279              	.LVL150:
 1280 00a6 C4E7     		b	.L104
 1281              	.LVL151:
 1282              	.L101:
 433:Drivers/ssd1306/ssd1306.c **** 
 434:Drivers/ssd1306/ssd1306.c ****     return;
 435:Drivers/ssd1306/ssd1306.c **** }
 1283              		.loc 1 435 0
 1284 00a8 03B0     		add	sp, sp, #12
 1285              	.LCFI31:
 1286              		.cfi_def_cfa_offset 36
 1287              		@ sp needed
 1288 00aa BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1289              	.LVL152:
 1290              	.L110:
 1291              	.LCFI32:
 1292              		.cfi_def_cfa_offset 0
 1293              		.cfi_restore 4
 1294              		.cfi_restore 5
 1295              		.cfi_restore 6
 1296              		.cfi_restore 7
 1297              		.cfi_restore 8
 1298              		.cfi_restore 9
 1299              		.cfi_restore 10
ARM GAS  /tmp/ccTa7Z28.s 			page 33


 1300              		.cfi_restore 11
 1301              		.cfi_restore 14
 1302 00ae 7047     		bx	lr
 1303              		.cfi_endproc
 1304              	.LFE345:
 1306              		.section	.text.ssd1306_DrawRectangle,"ax",%progbits
 1307              		.align	1
 1308              		.global	ssd1306_DrawRectangle
 1309              		.syntax unified
 1310              		.thumb
 1311              		.thumb_func
 1312              		.fpu fpv4-sp-d16
 1314              	ssd1306_DrawRectangle:
 1315              	.LFB346:
 436:Drivers/ssd1306/ssd1306.c **** 
 437:Drivers/ssd1306/ssd1306.c **** //Draw rectangle
 438:Drivers/ssd1306/ssd1306.c **** void ssd1306_DrawRectangle(uint8_t x1, uint8_t y1, uint8_t x2, uint8_t y2, SSD1306_COLOR color) {
 1316              		.loc 1 438 0
 1317              		.cfi_startproc
 1318              		@ args = 4, pretend = 0, frame = 0
 1319              		@ frame_needed = 0, uses_anonymous_args = 0
 1320              	.LVL153:
 1321 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1322              	.LCFI33:
 1323              		.cfi_def_cfa_offset 24
 1324              		.cfi_offset 4, -24
 1325              		.cfi_offset 5, -20
 1326              		.cfi_offset 6, -16
 1327              		.cfi_offset 7, -12
 1328              		.cfi_offset 8, -8
 1329              		.cfi_offset 14, -4
 1330 0004 82B0     		sub	sp, sp, #8
 1331              	.LCFI34:
 1332              		.cfi_def_cfa_offset 32
 1333 0006 0646     		mov	r6, r0
 1334 0008 0F46     		mov	r7, r1
 1335 000a 9046     		mov	r8, r2
 1336 000c 1C46     		mov	r4, r3
 1337 000e 9DF82050 		ldrb	r5, [sp, #32]	@ zero_extendqisi2
 439:Drivers/ssd1306/ssd1306.c ****   ssd1306_Line(x1,y1,x2,y1,color);
 1338              		.loc 1 439 0
 1339 0012 0095     		str	r5, [sp]
 1340 0014 0B46     		mov	r3, r1
 1341              	.LVL154:
 1342 0016 FFF7FEFF 		bl	ssd1306_Line
 1343              	.LVL155:
 440:Drivers/ssd1306/ssd1306.c ****   ssd1306_Line(x2,y1,x2,y2,color);
 1344              		.loc 1 440 0
 1345 001a 0095     		str	r5, [sp]
 1346 001c 2346     		mov	r3, r4
 1347 001e 4246     		mov	r2, r8
 1348 0020 3946     		mov	r1, r7
 1349 0022 4046     		mov	r0, r8
 1350 0024 FFF7FEFF 		bl	ssd1306_Line
 1351              	.LVL156:
 441:Drivers/ssd1306/ssd1306.c ****   ssd1306_Line(x2,y2,x1,y2,color);
 1352              		.loc 1 441 0
ARM GAS  /tmp/ccTa7Z28.s 			page 34


 1353 0028 0095     		str	r5, [sp]
 1354 002a 2346     		mov	r3, r4
 1355 002c 3246     		mov	r2, r6
 1356 002e 2146     		mov	r1, r4
 1357 0030 4046     		mov	r0, r8
 1358 0032 FFF7FEFF 		bl	ssd1306_Line
 1359              	.LVL157:
 442:Drivers/ssd1306/ssd1306.c ****   ssd1306_Line(x1,y2,x1,y1,color);
 1360              		.loc 1 442 0
 1361 0036 0095     		str	r5, [sp]
 1362 0038 3B46     		mov	r3, r7
 1363 003a 3246     		mov	r2, r6
 1364 003c 2146     		mov	r1, r4
 1365 003e 3046     		mov	r0, r6
 1366 0040 FFF7FEFF 		bl	ssd1306_Line
 1367              	.LVL158:
 443:Drivers/ssd1306/ssd1306.c **** 
 444:Drivers/ssd1306/ssd1306.c ****   return;
 445:Drivers/ssd1306/ssd1306.c **** }
 1368              		.loc 1 445 0
 1369 0044 02B0     		add	sp, sp, #8
 1370              	.LCFI35:
 1371              		.cfi_def_cfa_offset 24
 1372              		@ sp needed
 1373 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1374              		.cfi_endproc
 1375              	.LFE346:
 1377              		.section	.text.ssd1306_SetContrast,"ax",%progbits
 1378              		.align	1
 1379              		.global	ssd1306_SetContrast
 1380              		.syntax unified
 1381              		.thumb
 1382              		.thumb_func
 1383              		.fpu fpv4-sp-d16
 1385              	ssd1306_SetContrast:
 1386              	.LFB347:
 446:Drivers/ssd1306/ssd1306.c **** 
 447:Drivers/ssd1306/ssd1306.c **** void ssd1306_SetContrast(const uint8_t value) {
 1387              		.loc 1 447 0
 1388              		.cfi_startproc
 1389              		@ args = 0, pretend = 0, frame = 0
 1390              		@ frame_needed = 0, uses_anonymous_args = 0
 1391              	.LVL159:
 1392 0000 10B5     		push	{r4, lr}
 1393              	.LCFI36:
 1394              		.cfi_def_cfa_offset 8
 1395              		.cfi_offset 4, -8
 1396              		.cfi_offset 14, -4
 1397 0002 0446     		mov	r4, r0
 1398              	.LVL160:
 448:Drivers/ssd1306/ssd1306.c ****     const uint8_t kSetContrastControlRegister = 0x81;
 449:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(kSetContrastControlRegister);
 1399              		.loc 1 449 0
 1400 0004 8120     		movs	r0, #129
 1401              	.LVL161:
 1402 0006 FFF7FEFF 		bl	ssd1306_WriteCommand
 1403              	.LVL162:
ARM GAS  /tmp/ccTa7Z28.s 			page 35


 450:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(value);
 1404              		.loc 1 450 0
 1405 000a 2046     		mov	r0, r4
 1406 000c FFF7FEFF 		bl	ssd1306_WriteCommand
 1407              	.LVL163:
 451:Drivers/ssd1306/ssd1306.c **** }
 1408              		.loc 1 451 0
 1409 0010 10BD     		pop	{r4, pc}
 1410              		.cfi_endproc
 1411              	.LFE347:
 1413              		.section	.text.ssd1306_SetDisplayOn,"ax",%progbits
 1414              		.align	1
 1415              		.global	ssd1306_SetDisplayOn
 1416              		.syntax unified
 1417              		.thumb
 1418              		.thumb_func
 1419              		.fpu fpv4-sp-d16
 1421              	ssd1306_SetDisplayOn:
 1422              	.LFB348:
 452:Drivers/ssd1306/ssd1306.c **** 
 453:Drivers/ssd1306/ssd1306.c **** void ssd1306_SetDisplayOn(const uint8_t on) {
 1423              		.loc 1 453 0
 1424              		.cfi_startproc
 1425              		@ args = 0, pretend = 0, frame = 0
 1426              		@ frame_needed = 0, uses_anonymous_args = 0
 1427              	.LVL164:
 1428 0000 08B5     		push	{r3, lr}
 1429              	.LCFI37:
 1430              		.cfi_def_cfa_offset 8
 1431              		.cfi_offset 3, -8
 1432              		.cfi_offset 14, -4
 454:Drivers/ssd1306/ssd1306.c ****     uint8_t value;
 455:Drivers/ssd1306/ssd1306.c ****     if (on) {
 1433              		.loc 1 455 0
 1434 0002 30B9     		cbnz	r0, .L121
 1435              	.LVL165:
 456:Drivers/ssd1306/ssd1306.c ****         value = 0xAF;   // Display on
 457:Drivers/ssd1306/ssd1306.c ****         SSD1306.DisplayOn = 1;
 458:Drivers/ssd1306/ssd1306.c ****     } else {
 459:Drivers/ssd1306/ssd1306.c ****         value = 0xAE;   // Display off
 460:Drivers/ssd1306/ssd1306.c ****         SSD1306.DisplayOn = 0;
 1436              		.loc 1 460 0
 1437 0004 054B     		ldr	r3, .L122
 1438 0006 0022     		movs	r2, #0
 1439 0008 9A71     		strb	r2, [r3, #6]
 459:Drivers/ssd1306/ssd1306.c ****         SSD1306.DisplayOn = 0;
 1440              		.loc 1 459 0
 1441 000a AE20     		movs	r0, #174
 1442              	.LVL166:
 1443              	.L119:
 461:Drivers/ssd1306/ssd1306.c ****     }
 462:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(value);
 1444              		.loc 1 462 0
 1445 000c FFF7FEFF 		bl	ssd1306_WriteCommand
 1446              	.LVL167:
 463:Drivers/ssd1306/ssd1306.c **** }
 1447              		.loc 1 463 0
ARM GAS  /tmp/ccTa7Z28.s 			page 36


 1448 0010 08BD     		pop	{r3, pc}
 1449              	.LVL168:
 1450              	.L121:
 457:Drivers/ssd1306/ssd1306.c ****     } else {
 1451              		.loc 1 457 0
 1452 0012 024B     		ldr	r3, .L122
 1453 0014 0122     		movs	r2, #1
 1454 0016 9A71     		strb	r2, [r3, #6]
 456:Drivers/ssd1306/ssd1306.c ****         SSD1306.DisplayOn = 1;
 1455              		.loc 1 456 0
 1456 0018 AF20     		movs	r0, #175
 1457              	.LVL169:
 1458 001a F7E7     		b	.L119
 1459              	.L123:
 1460              		.align	2
 1461              	.L122:
 1462 001c 00000000 		.word	.LANCHOR1
 1463              		.cfi_endproc
 1464              	.LFE348:
 1466              		.section	.text.ssd1306_Init,"ax",%progbits
 1467              		.align	1
 1468              		.global	ssd1306_Init
 1469              		.syntax unified
 1470              		.thumb
 1471              		.thumb_func
 1472              		.fpu fpv4-sp-d16
 1474              	ssd1306_Init:
 1475              	.LFB333:
  73:Drivers/ssd1306/ssd1306.c ****     // Reset OLED
 1476              		.loc 1 73 0
 1477              		.cfi_startproc
 1478              		@ args = 0, pretend = 0, frame = 0
 1479              		@ frame_needed = 0, uses_anonymous_args = 0
 1480 0000 08B5     		push	{r3, lr}
 1481              	.LCFI38:
 1482              		.cfi_def_cfa_offset 8
 1483              		.cfi_offset 3, -8
 1484              		.cfi_offset 14, -4
  78:Drivers/ssd1306/ssd1306.c **** 
 1485              		.loc 1 78 0
 1486 0002 6420     		movs	r0, #100
 1487 0004 FFF7FEFF 		bl	HAL_Delay
 1488              	.LVL170:
  81:Drivers/ssd1306/ssd1306.c **** 
 1489              		.loc 1 81 0
 1490 0008 0020     		movs	r0, #0
 1491 000a FFF7FEFF 		bl	ssd1306_SetDisplayOn
 1492              	.LVL171:
  83:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x00); // 00b,Horizontal Addressing Mode; 01b,Vertical Addressing Mode;
 1493              		.loc 1 83 0
 1494 000e 2020     		movs	r0, #32
 1495 0010 FFF7FEFF 		bl	ssd1306_WriteCommand
 1496              	.LVL172:
  84:Drivers/ssd1306/ssd1306.c ****                                 // 10b,Page Addressing Mode (RESET); 11b,Invalid
 1497              		.loc 1 84 0
 1498 0014 0020     		movs	r0, #0
 1499 0016 FFF7FEFF 		bl	ssd1306_WriteCommand
ARM GAS  /tmp/ccTa7Z28.s 			page 37


 1500              	.LVL173:
  87:Drivers/ssd1306/ssd1306.c **** 
 1501              		.loc 1 87 0
 1502 001a B020     		movs	r0, #176
 1503 001c FFF7FEFF 		bl	ssd1306_WriteCommand
 1504              	.LVL174:
  92:Drivers/ssd1306/ssd1306.c **** #endif
 1505              		.loc 1 92 0
 1506 0020 C820     		movs	r0, #200
 1507 0022 FFF7FEFF 		bl	ssd1306_WriteCommand
 1508              	.LVL175:
  95:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x10); //---set high column address
 1509              		.loc 1 95 0
 1510 0026 0020     		movs	r0, #0
 1511 0028 FFF7FEFF 		bl	ssd1306_WriteCommand
 1512              	.LVL176:
  96:Drivers/ssd1306/ssd1306.c **** 
 1513              		.loc 1 96 0
 1514 002c 1020     		movs	r0, #16
 1515 002e FFF7FEFF 		bl	ssd1306_WriteCommand
 1516              	.LVL177:
  98:Drivers/ssd1306/ssd1306.c **** 
 1517              		.loc 1 98 0
 1518 0032 4020     		movs	r0, #64
 1519 0034 FFF7FEFF 		bl	ssd1306_WriteCommand
 1520              	.LVL178:
 100:Drivers/ssd1306/ssd1306.c **** 
 1521              		.loc 1 100 0
 1522 0038 FF20     		movs	r0, #255
 1523 003a FFF7FEFF 		bl	ssd1306_SetContrast
 1524              	.LVL179:
 105:Drivers/ssd1306/ssd1306.c **** #endif
 1525              		.loc 1 105 0
 1526 003e A120     		movs	r0, #161
 1527 0040 FFF7FEFF 		bl	ssd1306_WriteCommand
 1528              	.LVL180:
 111:Drivers/ssd1306/ssd1306.c **** #endif
 1529              		.loc 1 111 0
 1530 0044 A620     		movs	r0, #166
 1531 0046 FFF7FEFF 		bl	ssd1306_WriteCommand
 1532              	.LVL181:
 119:Drivers/ssd1306/ssd1306.c **** #endif
 1533              		.loc 1 119 0
 1534 004a A820     		movs	r0, #168
 1535 004c FFF7FEFF 		bl	ssd1306_WriteCommand
 1536              	.LVL182:
 123:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 64)
 1537              		.loc 1 123 0
 1538 0050 1F20     		movs	r0, #31
 1539 0052 FFF7FEFF 		bl	ssd1306_WriteCommand
 1540              	.LVL183:
 132:Drivers/ssd1306/ssd1306.c **** 
 1541              		.loc 1 132 0
 1542 0056 A420     		movs	r0, #164
 1543 0058 FFF7FEFF 		bl	ssd1306_WriteCommand
 1544              	.LVL184:
 134:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x00); //-not offset
ARM GAS  /tmp/ccTa7Z28.s 			page 38


 1545              		.loc 1 134 0
 1546 005c D320     		movs	r0, #211
 1547 005e FFF7FEFF 		bl	ssd1306_WriteCommand
 1548              	.LVL185:
 135:Drivers/ssd1306/ssd1306.c **** 
 1549              		.loc 1 135 0
 1550 0062 0020     		movs	r0, #0
 1551 0064 FFF7FEFF 		bl	ssd1306_WriteCommand
 1552              	.LVL186:
 137:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0xF0); //--set divide ratio
 1553              		.loc 1 137 0
 1554 0068 D520     		movs	r0, #213
 1555 006a FFF7FEFF 		bl	ssd1306_WriteCommand
 1556              	.LVL187:
 138:Drivers/ssd1306/ssd1306.c **** 
 1557              		.loc 1 138 0
 1558 006e F020     		movs	r0, #240
 1559 0070 FFF7FEFF 		bl	ssd1306_WriteCommand
 1560              	.LVL188:
 140:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x22); //
 1561              		.loc 1 140 0
 1562 0074 D920     		movs	r0, #217
 1563 0076 FFF7FEFF 		bl	ssd1306_WriteCommand
 1564              	.LVL189:
 141:Drivers/ssd1306/ssd1306.c **** 
 1565              		.loc 1 141 0
 1566 007a 2220     		movs	r0, #34
 1567 007c FFF7FEFF 		bl	ssd1306_WriteCommand
 1568              	.LVL190:
 143:Drivers/ssd1306/ssd1306.c **** #if (SSD1306_HEIGHT == 32)
 1569              		.loc 1 143 0
 1570 0080 DA20     		movs	r0, #218
 1571 0082 FFF7FEFF 		bl	ssd1306_WriteCommand
 1572              	.LVL191:
 145:Drivers/ssd1306/ssd1306.c **** #elif (SSD1306_HEIGHT == 64)
 1573              		.loc 1 145 0
 1574 0086 0220     		movs	r0, #2
 1575 0088 FFF7FEFF 		bl	ssd1306_WriteCommand
 1576              	.LVL192:
 154:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x20); //0x20,0.77xVcc
 1577              		.loc 1 154 0
 1578 008c DB20     		movs	r0, #219
 1579 008e FFF7FEFF 		bl	ssd1306_WriteCommand
 1580              	.LVL193:
 155:Drivers/ssd1306/ssd1306.c **** 
 1581              		.loc 1 155 0
 1582 0092 2020     		movs	r0, #32
 1583 0094 FFF7FEFF 		bl	ssd1306_WriteCommand
 1584              	.LVL194:
 157:Drivers/ssd1306/ssd1306.c ****     ssd1306_WriteCommand(0x14); //
 1585              		.loc 1 157 0
 1586 0098 8D20     		movs	r0, #141
 1587 009a FFF7FEFF 		bl	ssd1306_WriteCommand
 1588              	.LVL195:
 158:Drivers/ssd1306/ssd1306.c ****     ssd1306_SetDisplayOn(1); //--turn on SSD1306 panel
 1589              		.loc 1 158 0
 1590 009e 1420     		movs	r0, #20
ARM GAS  /tmp/ccTa7Z28.s 			page 39


 1591 00a0 FFF7FEFF 		bl	ssd1306_WriteCommand
 1592              	.LVL196:
 159:Drivers/ssd1306/ssd1306.c **** 
 1593              		.loc 1 159 0
 1594 00a4 0120     		movs	r0, #1
 1595 00a6 FFF7FEFF 		bl	ssd1306_SetDisplayOn
 1596              	.LVL197:
 162:Drivers/ssd1306/ssd1306.c ****     
 1597              		.loc 1 162 0
 1598 00aa 0020     		movs	r0, #0
 1599 00ac FFF7FEFF 		bl	ssd1306_Fill
 1600              	.LVL198:
 165:Drivers/ssd1306/ssd1306.c ****     
 1601              		.loc 1 165 0
 1602 00b0 FFF7FEFF 		bl	ssd1306_UpdateScreen
 1603              	.LVL199:
 168:Drivers/ssd1306/ssd1306.c ****     SSD1306.CurrentY = 0;
 1604              		.loc 1 168 0
 1605 00b4 034B     		ldr	r3, .L126
 1606 00b6 0022     		movs	r2, #0
 1607 00b8 1A80     		strh	r2, [r3]	@ movhi
 169:Drivers/ssd1306/ssd1306.c ****     
 1608              		.loc 1 169 0
 1609 00ba 5A80     		strh	r2, [r3, #2]	@ movhi
 171:Drivers/ssd1306/ssd1306.c **** }
 1610              		.loc 1 171 0
 1611 00bc 0122     		movs	r2, #1
 1612 00be 5A71     		strb	r2, [r3, #5]
 172:Drivers/ssd1306/ssd1306.c **** 
 1613              		.loc 1 172 0
 1614 00c0 08BD     		pop	{r3, pc}
 1615              	.L127:
 1616 00c2 00BF     		.align	2
 1617              	.L126:
 1618 00c4 00000000 		.word	.LANCHOR1
 1619              		.cfi_endproc
 1620              	.LFE333:
 1622              		.section	.text.ssd1306_GetDisplayOn,"ax",%progbits
 1623              		.align	1
 1624              		.global	ssd1306_GetDisplayOn
 1625              		.syntax unified
 1626              		.thumb
 1627              		.thumb_func
 1628              		.fpu fpv4-sp-d16
 1630              	ssd1306_GetDisplayOn:
 1631              	.LFB349:
 464:Drivers/ssd1306/ssd1306.c **** 
 465:Drivers/ssd1306/ssd1306.c **** uint8_t ssd1306_GetDisplayOn() {
 1632              		.loc 1 465 0
 1633              		.cfi_startproc
 1634              		@ args = 0, pretend = 0, frame = 0
 1635              		@ frame_needed = 0, uses_anonymous_args = 0
 1636              		@ link register save eliminated.
 466:Drivers/ssd1306/ssd1306.c ****     return SSD1306.DisplayOn;
 467:Drivers/ssd1306/ssd1306.c **** }
 1637              		.loc 1 467 0
 1638 0000 014B     		ldr	r3, .L129
ARM GAS  /tmp/ccTa7Z28.s 			page 40


 1639 0002 9879     		ldrb	r0, [r3, #6]	@ zero_extendqisi2
 1640 0004 7047     		bx	lr
 1641              	.L130:
 1642 0006 00BF     		.align	2
 1643              	.L129:
 1644 0008 00000000 		.word	.LANCHOR1
 1645              		.cfi_endproc
 1646              	.LFE349:
 1648              		.section	.bss.SSD1306,"aw",%nobits
 1649              		.align	2
 1650              		.set	.LANCHOR1,. + 0
 1653              	SSD1306:
 1654 0000 00000000 		.space	8
 1654      00000000 
 1655              		.section	.bss.SSD1306_Buffer,"aw",%nobits
 1656              		.align	2
 1657              		.set	.LANCHOR0,. + 0
 1660              	SSD1306_Buffer:
 1661 0000 00000000 		.space	512
 1661      00000000 
 1661      00000000 
 1661      00000000 
 1661      00000000 
 1662              		.text
 1663              	.Letext0:
 1664              		.file 2 "/usr/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h"
 1665              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 1666              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 1667              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 1668              		.file 6 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/system_stm32g4xx.h"
 1669              		.file 7 "Drivers/CMSIS/Device/ST/STM32G4xx/Include/stm32g484xx.h"
 1670              		.file 8 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_def.h"
 1671              		.file 9 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_dma.h"
 1672              		.file 10 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_flash.h"
 1673              		.file 11 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_i2c.h"
 1674              		.file 12 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal_uart.h"
 1675              		.file 13 "Drivers/STM32G4xx_HAL_Driver/Inc/stm32g4xx_hal.h"
 1676              		.file 14 "Drivers/ssd1306/ssd1306_fonts.h"
 1677              		.file 15 "Drivers/ssd1306/ssd1306.h"
 1678              		.file 16 "/usr/include/newlib/sys/lock.h"
 1679              		.file 17 "/usr/include/newlib/sys/_types.h"
 1680              		.file 18 "/usr/include/newlib/sys/reent.h"
 1681              		.file 19 "/usr/include/newlib/math.h"
 1682              		.file 20 "/usr/include/newlib/stdlib.h"
 1683              		.file 21 "<built-in>"
ARM GAS  /tmp/ccTa7Z28.s 			page 41


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ssd1306.c
     /tmp/ccTa7Z28.s:22     .text.ssd1306_DegToRad:0000000000000000 $t
     /tmp/ccTa7Z28.s:28     .text.ssd1306_DegToRad:0000000000000000 ssd1306_DegToRad
     /tmp/ccTa7Z28.s:61     .text.ssd1306_DegToRad:0000000000000028 $d
     /tmp/ccTa7Z28.s:68     .text.ssd1306_NormalizeTo0_360:0000000000000000 $t
     /tmp/ccTa7Z28.s:74     .text.ssd1306_NormalizeTo0_360:0000000000000000 ssd1306_NormalizeTo0_360
     /tmp/ccTa7Z28.s:102    .text.ssd1306_Reset:0000000000000000 $t
     /tmp/ccTa7Z28.s:109    .text.ssd1306_Reset:0000000000000000 ssd1306_Reset
     /tmp/ccTa7Z28.s:122    .text.ssd1306_WriteCommand:0000000000000000 $t
     /tmp/ccTa7Z28.s:129    .text.ssd1306_WriteCommand:0000000000000000 ssd1306_WriteCommand
     /tmp/ccTa7Z28.s:166    .text.ssd1306_WriteCommand:0000000000000028 $d
     /tmp/ccTa7Z28.s:171    .text.ssd1306_WriteData:0000000000000000 $t
     /tmp/ccTa7Z28.s:178    .text.ssd1306_WriteData:0000000000000000 ssd1306_WriteData
     /tmp/ccTa7Z28.s:215    .text.ssd1306_WriteData:0000000000000024 $d
     /tmp/ccTa7Z28.s:220    .text.ssd1306_FillBuffer:0000000000000000 $t
     /tmp/ccTa7Z28.s:227    .text.ssd1306_FillBuffer:0000000000000000 ssd1306_FillBuffer
     /tmp/ccTa7Z28.s:266    .text.ssd1306_FillBuffer:000000000000001c $d
     /tmp/ccTa7Z28.s:271    .text.ssd1306_Fill:0000000000000000 $t
     /tmp/ccTa7Z28.s:278    .text.ssd1306_Fill:0000000000000000 ssd1306_Fill
     /tmp/ccTa7Z28.s:315    .text.ssd1306_Fill:000000000000001c $d
     /tmp/ccTa7Z28.s:320    .text.ssd1306_UpdateScreen:0000000000000000 $t
     /tmp/ccTa7Z28.s:327    .text.ssd1306_UpdateScreen:0000000000000000 ssd1306_UpdateScreen
     /tmp/ccTa7Z28.s:380    .text.ssd1306_UpdateScreen:0000000000000034 $d
     /tmp/ccTa7Z28.s:385    .text.ssd1306_DrawPixel:0000000000000000 $t
     /tmp/ccTa7Z28.s:392    .text.ssd1306_DrawPixel:0000000000000000 ssd1306_DrawPixel
     /tmp/ccTa7Z28.s:454    .text.ssd1306_DrawPixel:000000000000004c $d
     /tmp/ccTa7Z28.s:460    .text.ssd1306_WriteChar:0000000000000000 $t
     /tmp/ccTa7Z28.s:467    .text.ssd1306_WriteChar:0000000000000000 ssd1306_WriteChar
     /tmp/ccTa7Z28.s:611    .text.ssd1306_WriteChar:00000000000000b0 $d
     /tmp/ccTa7Z28.s:616    .text.ssd1306_WriteString:0000000000000000 $t
     /tmp/ccTa7Z28.s:623    .text.ssd1306_WriteString:0000000000000000 ssd1306_WriteString
     /tmp/ccTa7Z28.s:676    .text.ssd1306_SetCursor:0000000000000000 $t
     /tmp/ccTa7Z28.s:683    .text.ssd1306_SetCursor:0000000000000000 ssd1306_SetCursor
     /tmp/ccTa7Z28.s:701    .text.ssd1306_SetCursor:0000000000000008 $d
     /tmp/ccTa7Z28.s:706    .text.ssd1306_Line:0000000000000000 $t
     /tmp/ccTa7Z28.s:713    .text.ssd1306_Line:0000000000000000 ssd1306_Line
     /tmp/ccTa7Z28.s:846    .text.ssd1306_Polyline:0000000000000000 $t
     /tmp/ccTa7Z28.s:853    .text.ssd1306_Polyline:0000000000000000 ssd1306_Polyline
     /tmp/ccTa7Z28.s:934    .text.ssd1306_DrawArc:0000000000000000 $t
     /tmp/ccTa7Z28.s:941    .text.ssd1306_DrawArc:0000000000000000 ssd1306_DrawArc
     /tmp/ccTa7Z28.s:1142   .text.ssd1306_DrawArc:0000000000000160 $d
     /tmp/ccTa7Z28.s:1148   .text.ssd1306_DrawCircle:0000000000000000 $t
     /tmp/ccTa7Z28.s:1155   .text.ssd1306_DrawCircle:0000000000000000 ssd1306_DrawCircle
     /tmp/ccTa7Z28.s:1307   .text.ssd1306_DrawRectangle:0000000000000000 $t
     /tmp/ccTa7Z28.s:1314   .text.ssd1306_DrawRectangle:0000000000000000 ssd1306_DrawRectangle
     /tmp/ccTa7Z28.s:1378   .text.ssd1306_SetContrast:0000000000000000 $t
     /tmp/ccTa7Z28.s:1385   .text.ssd1306_SetContrast:0000000000000000 ssd1306_SetContrast
     /tmp/ccTa7Z28.s:1414   .text.ssd1306_SetDisplayOn:0000000000000000 $t
     /tmp/ccTa7Z28.s:1421   .text.ssd1306_SetDisplayOn:0000000000000000 ssd1306_SetDisplayOn
     /tmp/ccTa7Z28.s:1462   .text.ssd1306_SetDisplayOn:000000000000001c $d
     /tmp/ccTa7Z28.s:1467   .text.ssd1306_Init:0000000000000000 $t
     /tmp/ccTa7Z28.s:1474   .text.ssd1306_Init:0000000000000000 ssd1306_Init
     /tmp/ccTa7Z28.s:1618   .text.ssd1306_Init:00000000000000c4 $d
     /tmp/ccTa7Z28.s:1623   .text.ssd1306_GetDisplayOn:0000000000000000 $t
     /tmp/ccTa7Z28.s:1630   .text.ssd1306_GetDisplayOn:0000000000000000 ssd1306_GetDisplayOn
     /tmp/ccTa7Z28.s:1644   .text.ssd1306_GetDisplayOn:0000000000000008 $d
ARM GAS  /tmp/ccTa7Z28.s 			page 42


     /tmp/ccTa7Z28.s:1649   .bss.SSD1306:0000000000000000 $d
     /tmp/ccTa7Z28.s:1653   .bss.SSD1306:0000000000000000 SSD1306
     /tmp/ccTa7Z28.s:1656   .bss.SSD1306_Buffer:0000000000000000 $d
     /tmp/ccTa7Z28.s:1660   .bss.SSD1306_Buffer:0000000000000000 SSD1306_Buffer

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_ddiv
__aeabi_d2f
HAL_I2C_Mem_Write
hi2c2
memcpy
__aeabi_i2d
__aeabi_d2iz
sin
cos
HAL_Delay
